<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Fire Studio</title>
  
  <subtitle>è®°å½•ï¼Œå­¦ä¹ ï¼Œæˆé•¿</subtitle>
  <link href="http://firestudio.cn/atom.xml" rel="self"/>
  
  <link href="http://firestudio.cn/"/>
  <updated>2020-07-11T16:16:43.135Z</updated>
  <id>http://firestudio.cn/</id>
  
  <author>
    <name>Yozone W.</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>WWDC 2020 å­¦ä¹ ç¬”è®°ï¼ˆä¸€ï¼‰</title>
    <link href="http://firestudio.cn/2020/07/11/wwdc-2020-learning-notes-1/"/>
    <id>http://firestudio.cn/2020/07/11/wwdc-2020-learning-notes-1/</id>
    <published>2020-07-11T12:41:31.000Z</published>
    <updated>2020-07-11T16:16:43.135Z</updated>
    
    <content type="html"><![CDATA[<h1 id="stacks-grids-and-outlines-in-swiftui"><a class="markdownIt-Anchor" href="#stacks-grids-and-outlines-in-swiftui"></a> Stacks, Grids and Outlines in SwiftUI</h1><h2 id="lazyvstack-å’Œ-lazyhstack"><a class="markdownIt-Anchor" href="#lazyvstack-å’Œ-lazyhstack"></a> LazyVStack å’Œ LazyHStack</h2><p>ç”¨æ¥è§£å†³æ•°æ®é‡è¾ƒå¤§çš„æƒ…å†µï¼Œæ¯”å¦‚å¾ˆå¤šå›¾ç‰‡éœ€è¦åŠ è½½çš„æ—¶å€™ï¼Œä½¿ç”¨æ–¹æ³•ä¹Ÿæ¯”è¾ƒç®€å•ï¼Œç›´æ¥æŠŠ VStack ä¸ HStack æ¢æˆ LazyVStack å’Œ LazyHStack</p><h2 id="lazyvgrid-å’Œ-lazyhgrid"><a class="markdownIt-Anchor" href="#lazyvgrid-å’Œ-lazyhgrid"></a> LazyVGrid å’Œ LazyHGrid</h2><p>ç”¨æ¥æ˜¾ç¤ºå¤šåˆ—è§†å›¾ï¼Œç±»ä¼¼äº UICollectionViewï¼Œä½†æ˜¯æ„Ÿè§‰æ¯” UICollectionView æ›´æ–¹ä¾¿ä¸€äº›ï¼Œä½¿ç”¨æ–¹æ³•ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> columns <span class="operator">=</span> [</span><br><span class="line">  <span class="type">GridItem</span>(spacing: <span class="number">0</span>),</span><br><span class="line">  <span class="type">GridItem</span>(spacing: <span class="number">0</span>)</span><br><span class="line">  <span class="type">GridItem</span>(spacing: <span class="number">0</span>)</span><br><span class="line">]</span><br><span class="line"><span class="comment">// æˆ–è€…</span></span><br><span class="line"><span class="keyword">let</span> columns <span class="operator">=</span> [</span><br><span class="line">  <span class="type">GridItem</span>(.adaptive(minimum: <span class="number">300</span>), spacing: <span class="number">0</span>), <span class="comment">// è¿˜å¯ä»¥ç”¨ .fixed, .flexibleï¼Œè¯¦æƒ…å‚è§ GridItem.Size</span></span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="type">Lazy</span>(<span class="type">V</span><span class="operator">|</span><span class="type">H</span>)<span class="type">Grid</span>(colomns: columns, spacing: <span class="number">0</span>) &#123;</span><br><span class="line">  <span class="operator">...</span> <span class="comment">// ForEach Content</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><span id="more"></span><h2 id="list"><a class="markdownIt-Anchor" href="#list"></a> List</h2><p>æ–°å¢ <code>SidebarListStyle()</code>ï¼Œç”¨æ¥æ˜¾ç¤ºä¾§è¾¹æ ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„æ–¹æ³•æ¥æ˜¾ç¤ºå±‚çº§</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">List</span>(items, childen: \.children) &#123;</span><br><span class="line">  <span class="comment">// Row Content</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸‹é¢çš„æ–¹æ³•ç”¨äºåˆ†ç»„ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">List</span> &#123;</span><br><span class="line">  <span class="type">ForEach</span>([<span class="type">Element</span>]) &#123; group <span class="keyword">in</span></span><br><span class="line">    <span class="type">Section</span>(header: <span class="type">Text</span>(group.name)) &#123;</span><br><span class="line">      <span class="type">OutlineGroup</span>(group.items, children: \.children) &#123; children <span class="keyword">in</span></span><br><span class="line">        <span class="comment">// Children Row Content</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="disclosuregroup"><a class="markdownIt-Anchor" href="#disclosuregroup"></a> DisclosureGroup</h2><p>ç”¨æ¥æ˜¾ç¤ºä¸ªæŠ˜å çš„ Form groupï¼Œä½¿ç”¨æ–¹æ³•(isExpanded æ˜¯å¯é€‰å‚æ•°ï¼‰ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Form</span> &#123;</span><br><span class="line">  <span class="type">DisclosueGroup</span>(isExpanded: <span class="variable">$isExpanded</span>) &#123;</span><br><span class="line">    <span class="comment">// Rows</span></span><br><span class="line">  &#125;, label: &#123;</span><br><span class="line">    <span class="type">Label</span>(<span class="string">&quot;Group Name&quot;</span>, <span class="operator">...</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// æˆ–è€…</span></span><br><span class="line">  <span class="type">DisclosueGroup</span>(<span class="string">&quot;Group Name&quot;</span>) &#123;</span><br><span class="line">    <span class="comment">// Rows</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><em>OutlineGroup æœ¬è´¨æ˜¯å†…åµŒäº† DisclosureGrop</em></p><h1 id="åœ¨-xcode-library-ä¸­æ·»åŠ è‡ªå®šä¹‰è§†å›¾"><a class="markdownIt-Anchor" href="#åœ¨-xcode-library-ä¸­æ·»åŠ è‡ªå®šä¹‰è§†å›¾"></a> åœ¨ Xcode Library ä¸­æ·»åŠ è‡ªå®šä¹‰è§†å›¾</h1><p>Xcode 12 æ”¯æŒå°†è‡ªå®šä¹‰çš„ä»£ç ï¼ˆåŒ…æ‹¬ Swift Packageï¼‰æ·»åŠ åˆ° Xcode Library ä¸­ï¼Œè¿™æ ·å¤§å¤§å¢åŠ äº†ä»£ç çš„å¯å¤ç”¨æ€§</p><h2 id="æ‰©å±•-library-éœ€è¦å®šä¹‰ä¸€ä¸ªéµä»å¦‚ä¸‹åè®®çš„-contentprovider"><a class="markdownIt-Anchor" href="#æ‰©å±•-library-éœ€è¦å®šä¹‰ä¸€ä¸ªéµä»å¦‚ä¸‹åè®®çš„-contentprovider"></a> æ‰©å±• Library éœ€è¦å®šä¹‰ä¸€ä¸ªéµä»å¦‚ä¸‹åè®®çš„ <code>ContentProvider</code></h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">protocol</span> <span class="title">LibraryContentProvider</span> </span>&#123;</span><br><span class="line">  <span class="comment">// views</span></span><br><span class="line">  <span class="meta">@LibraryContentBuilder</span></span><br><span class="line">  <span class="keyword">var</span> views: [<span class="type">LibraryItem</span>] &#123; <span class="keyword">get</span> &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// modifiers</span></span><br><span class="line">  <span class="meta">@LibraryContentBuilder</span></span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">modifiers</span>(<span class="params">base</span>: <span class="type">ModifierBase</span>)</span> -&gt; [<span class="type">LibraryItem</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å®šä¹‰-libraryitem"><a class="markdownIt-Anchor" href="#å®šä¹‰-libraryitem"></a> å®šä¹‰ <code>LibraryItem</code></h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">LibraryContent</span>: <span class="title">LibraryContentProvider</span> </span>&#123;</span><br><span class="line">  <span class="meta">@LibraryContentBuilder</span></span><br><span class="line">  <span class="keyword">var</span> views: [<span class="type">LibraryItem</span>] &#123;</span><br><span class="line">    <span class="comment">// view</span></span><br><span class="line">    <span class="type">LibraryItem</span>(</span><br><span class="line">      <span class="type">SmoothieRowView</span>(smoothie: .lemonberry),</span><br><span class="line">      visible: <span class="literal">true</span>,</span><br><span class="line">      title: <span class="string">&quot;Smoothie Row View&quot;</span>,</span><br><span class="line">      category: .control</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// modifier</span></span><br><span class="line">  <span class="meta">@LibraryContentBuilder</span></span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">modifiers</span>(<span class="params">base</span>: <span class="type">Image</span>)</span> -&gt; [<span class="type">LibraryItem</span>] &#123;</span><br><span class="line">    <span class="type">LibraryItem</span>(</span><br><span class="line">      base.resizedToFill(width: <span class="number">100</span>, height: <span class="number">100</span>)</span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="universal-link"><a class="markdownIt-Anchor" href="#universal-link"></a> Universal Link</h1><h2 id="watchos-æ–°å¢-universal-link-åŠŸèƒ½"><a class="markdownIt-Anchor" href="#watchos-æ–°å¢-universal-link-åŠŸèƒ½"></a> watchOS æ–°å¢ Universal Link åŠŸèƒ½</h2><p>å¤„ç† Universal Link</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// WKExtensionDelegate</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">handle</span>(<span class="keyword">_</span> <span class="params">userActivity</span>: <span class="type">NSUserActivity</span>)</span> -&gt; <span class="type">Void</span></span><br></pre></td></tr></table></figure><p>æ‰“å¼€ Universal Link</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> url <span class="operator">=</span> <span class="comment">/* ... */</span></span><br><span class="line"><span class="type">WKExtension</span>.shared().openSystemURL(url)</span><br></pre></td></tr></table></figure><h2 id="swiftui-ä¸­çš„-universal-link"><a class="markdownIt-Anchor" href="#swiftui-ä¸­çš„-universal-link"></a> SwiftUI ä¸­çš„ Universal Link</h2><p>å¤„ç† Universal Link</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.onOpenURL &#123; url <span class="keyword">in</span></span><br><span class="line">  <span class="comment">/* ... *.</span></span><br><span class="line"><span class="comment">&#125;</span></span><br></pre></td></tr></table></figure><p>æ‰“å¼€ Universal Link</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Environment</span>(\.openURL) <span class="keyword">var</span> openURL</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> url <span class="operator">=</span> <span class="comment">/* ... */</span></span><br><span class="line">openURL(url)</span><br></pre></td></tr></table></figure><h2 id="é€šé…ç¬¦2019å¹´"><a class="markdownIt-Anchor" href="#é€šé…ç¬¦2019å¹´"></a> é€šé…ç¬¦ï¼ˆ2019å¹´ï¼‰</h2><ul><li><code>*</code> è¡¨ç¤ºã€‡ä¸ªæˆ–å¤šä¸ªå­—ç¬¦</li><li><code>?</code> è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦</li><li><code>?*</code> è¡¨ç¤ºè‡³å°‘ä¸€ä¸ªï¼ˆä¸€ä¸ªæˆ–å¤šä¸ªï¼‰å­—ç¬¦</li></ul><h2 id="apple-app-site-association-æ–‡ä»¶å˜æ›´"><a class="markdownIt-Anchor" href="#apple-app-site-association-æ–‡ä»¶å˜æ›´"></a> <code>apple-app-site-association</code> æ–‡ä»¶å˜æ›´</h2><p>æ–°å¢ case-insensitive æ¨¡å¼</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="attr">&quot;components&quot;</span>: [&#123;<span class="attr">&quot;/&quot;</span>: <span class="string">&quot;/sourdough/?*&quot;</span>, <span class="attr">&quot;caseSensitive&quot;</span>: <span class="literal">false</span>&#125;]&#125; <span class="comment">// macOS 10.15+ &amp; iOS 13.5+</span></span><br></pre></td></tr></table></figure><p>Unicode æ¨¡å¼</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="attr">&quot;components&quot;</span>: [&#123;<span class="attr">&quot;/&quot;</span>: <span class="string">&quot;/èš‚èšä¸Šæ ‘/?*&quot;</span>, <span class="attr">&quot;percentEncoded&quot;</span>: <span class="literal">false</span>&#125;]&#125; <span class="comment">// macOS Big Sur &amp; iOS 14</span></span><br></pre></td></tr></table></figure><p>æˆ–è€…ä¸¤è€…ç»“åˆ</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;defaults&quot;: &#123;&quot;percentEncoded&quot;: false, &quot;caseSensitive&quot;L false&#125;, // å…¨å±€è®¾ç½®</span><br><span class="line">    &quot;components&quot;: [</span><br><span class="line">      &#123;&quot;/&quot;: &quot;/èš‚èšä¸Šæ ‘/?*&quot;, &quot;percentEncoded&quot;: false&#125;,</span><br><span class="line">      [&#123;<span class="attr">&quot;/&quot;</span>: <span class="string">&quot;/sourdough/?*&quot;</span>, <span class="attr">&quot;caseSensitive&quot;</span>: <span class="literal">false</span>&#125;,</span><br><span class="line">      [&#123;<span class="attr">&quot;/&quot;</span>: <span class="string">&quot;/Ñ€ÑƒÌÑÑĞºĞ¸Ğ¹ ÑĞ·Ñ‹ÌĞº/?*&quot;</span>, <span class="attr">&quot;caseSensitive&quot;</span>: <span class="literal">false</span>, <span class="attr">&quot;percentEncoded&quot;</span>: <span class="literal">false</span>&#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ›¿æ¢å˜é‡"><a class="markdownIt-Anchor" href="#æ›¿æ¢å˜é‡"></a> æ›¿æ¢å˜é‡</h3><p><strong>Requirement: macOS 10.15+ &amp; iOS 13.5+</strong></p><p>å¯ä»¥ä½¿ç”¨é™¤ <code>$</code>ã€<code>(</code> å’Œ <code>)</code> å­—ç¬¦ä¹‹å¤–çš„æ‰€æœ‰å­—ç¬¦ï¼Œé»˜è®¤åŒºåˆ†å¤§å°å†™ï¼Œæ¯”å¦‚ï¼ˆç³»ç»Ÿå˜é‡ï¼‰ï¼š</p><table><thead><tr><th>å˜é‡</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td><code>$(alpha)*</code></td><td><code>[a-z][A-Z]</code></td></tr><tr><td><code>$(upper)*</code></td><td><code>[A-Z]</code></td></tr><tr><td><code>$(lower)*</code></td><td><code>[a-z]</code></td></tr><tr><td><code>$(alnum)*</code></td><td><code>[a-z][A-Z][0-9]</code></td></tr><tr><td><code>$(digit)*</code></td><td><code>[0-9]</code></td></tr><tr><td><code>$(xdigit)*</code></td><td><code>[a-f][A-F][0-9]</code></td></tr><tr><td><code>$(region)**</code></td><td><code>Locale.isoRegionCodes = [&quot;CA&quot;, &quot;UK&quot;, &quot;US&quot;, ...]</code></td></tr><tr><td><code>$(lang)*</code></td><td><code>Locale.isoLanguageCodes = [&quot;ar&quot;, &quot;en&quot;, &quot;zh&quot;, ...]</code></td></tr></tbody></table><p>æ·»åŠ æ›¿æ¢å˜é‡</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;applinks&quot;</span>: &#123;</span><br><span class="line">      <span class="attr">&quot;substitutionVariables&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;food&quot;</span>: [<span class="string">&quot;burrito&quot;</span>, <span class="string">&quot;shawarma&quot;</span>, <span class="string">&quot;sushi&quot;</span>, <span class="string">&quot;curry-pad-thai&quot;</span>],</span><br><span class="line">        <span class="attr">&quot;Canadian food&quot;</span>: [<span class="string">&quot;burrito&quot;</span>, <span class="string">&quot;poutine&quot;</span>, <span class="string">&quot;butter-tart&quot;</span>, <span class="string">&quot;fiddlehead&quot;</span>, <span class="string">&quot;tarte-au-beurre&quot;</span>, <span class="string">&quot;tÃªte-de-violon&quot;</span>],</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">&quot;details&quot;</span>: [&#123;</span><br><span class="line">        <span class="attr">&quot;appIDs&quot;</span>: [<span class="string">&quot;ABCDE12345.com.example.restaurant&quot;</span>],</span><br><span class="line">        <span class="attr">&quot;compoments&quot;</span>: [</span><br><span class="line">          &#123;<span class="attr">&quot;/&quot;</span>: <span class="string">&quot;/$(lang)_CA/$(Canadian food)&quot;</span>, <span class="attr">&quot;percentEncoded&quot;</span>: <span class="literal">false</span>&#125;,</span><br><span class="line">          &#123;<span class="attr">&quot;/&quot;</span>: <span class="string">&quot;/$(lang)_CA/$(food)&quot;</span>, <span class="attr">&quot;exclude&quot;</span>: <span class="literal">true</span>&#125;,</span><br><span class="line">          &#123;<span class="attr">&quot;/&quot;</span>: <span class="string">&quot;/$(lang)_$(region)/$(food)&quot;</span>&#125;,</span><br><span class="line">        ]</span><br><span class="line">      &#125;]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;stacks-grids-and-outlines-in-swiftui&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#stacks-grids-and-outlines-in-swiftui&quot;&gt;&lt;/a&gt; Stacks, Grids and Outlines in SwiftUI&lt;/h1&gt;
&lt;h2 id=&quot;lazyvstack-å’Œ-lazyhstack&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#lazyvstack-å’Œ-lazyhstack&quot;&gt;&lt;/a&gt; LazyVStack å’Œ LazyHStack&lt;/h2&gt;
&lt;p&gt;ç”¨æ¥è§£å†³æ•°æ®é‡è¾ƒå¤§çš„æƒ…å†µï¼Œæ¯”å¦‚å¾ˆå¤šå›¾ç‰‡éœ€è¦åŠ è½½çš„æ—¶å€™ï¼Œä½¿ç”¨æ–¹æ³•ä¹Ÿæ¯”è¾ƒç®€å•ï¼Œç›´æ¥æŠŠ VStack ä¸ HStack æ¢æˆ LazyVStack å’Œ LazyHStack&lt;/p&gt;
&lt;h2 id=&quot;lazyvgrid-å’Œ-lazyhgrid&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#lazyvgrid-å’Œ-lazyhgrid&quot;&gt;&lt;/a&gt; LazyVGrid å’Œ LazyHGrid&lt;/h2&gt;
&lt;p&gt;ç”¨æ¥æ˜¾ç¤ºå¤šåˆ—è§†å›¾ï¼Œç±»ä¼¼äº UICollectionViewï¼Œä½†æ˜¯æ„Ÿè§‰æ¯” UICollectionView æ›´æ–¹ä¾¿ä¸€äº›ï¼Œä½¿ç”¨æ–¹æ³•ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight swift&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;let&lt;/span&gt; columns &lt;span class=&quot;operator&quot;&gt;=&lt;/span&gt; [&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;type&quot;&gt;GridItem&lt;/span&gt;(spacing: &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;),&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;type&quot;&gt;GridItem&lt;/span&gt;(spacing: &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;type&quot;&gt;GridItem&lt;/span&gt;(spacing: &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// æˆ–è€…&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;let&lt;/span&gt; columns &lt;span class=&quot;operator&quot;&gt;=&lt;/span&gt; [&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;type&quot;&gt;GridItem&lt;/span&gt;(.adaptive(minimum: &lt;span class=&quot;number&quot;&gt;300&lt;/span&gt;), spacing: &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;), &lt;span class=&quot;comment&quot;&gt;// è¿˜å¯ä»¥ç”¨ .fixed, .flexibleï¼Œè¯¦æƒ…å‚è§ GridItem.Size&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;type&quot;&gt;Lazy&lt;/span&gt;(&lt;span class=&quot;type&quot;&gt;V&lt;/span&gt;&lt;span class=&quot;operator&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;type&quot;&gt;H&lt;/span&gt;)&lt;span class=&quot;type&quot;&gt;Grid&lt;/span&gt;(colomns: columns, spacing: &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;operator&quot;&gt;...&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;// ForEach Content&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</summary>
    
    
    
    
    <category term="WWDC" scheme="http://firestudio.cn/tags/wwdc/"/>
    
    <category term="SwiftUI" scheme="http://firestudio.cn/tags/swiftui/"/>
    
    <category term="Swift" scheme="http://firestudio.cn/tags/swift/"/>
    
  </entry>
  
  <entry>
    <title>å…³äº iOS åº”ç”¨ä¸»é¢˜ç®¡ç†ä¸åŠ¨æ€åˆ‡æ¢çš„ä¸€äº›æƒ³æ³•ä¸å®ç°</title>
    <link href="http://firestudio.cn/2019/07/20/how-to-manage-ios-themes-and-switch-themes-dynamically/"/>
    <id>http://firestudio.cn/2019/07/20/how-to-manage-ios-themes-and-switch-themes-dynamically/</id>
    <published>2019-07-19T17:08:41.000Z</published>
    <updated>2019-08-06T13:45:38.059Z</updated>
    
    <content type="html"><![CDATA[<p>ä»Šå¤©çªç„¶æƒ³å†™ç¯‡åšå®¢ï¼Œçœ‹äº†ä¸Šä¸€ç¯‡çš„å‘è¡¨æ—¶é—´ï¼Œå·²ç»å¿«æ¥è¿‘ä¸‰å¹´åŠäº†ï¼Œç€å®æƒ­æ„§å•Š~ã€‚è¿™ç¯‡æ–‡ç« ä¸»è¦ä»‹ç»ä¸€ä¸‹å‰æ®µæ—¶é—´çªå‘å¥‡æƒ³å†™çš„ä¸€ä¸ªç®¡ç† iOS ä¸»é¢˜çš„å¼€æºå°åº“ï¼š<a href="https://github.com/azone/ThemeManager">ThemeManager</a>ã€‚</p><h3 id="ä¸ºä½•è¦å®ç°ä¸€ä¸ªç®¡ç†ä¸»é¢˜çš„åº“"><a class="markdownIt-Anchor" href="#ä¸ºä½•è¦å®ç°ä¸€ä¸ªç®¡ç†ä¸»é¢˜çš„åº“"></a> ä¸ºä½•è¦å®ç°ä¸€ä¸ªç®¡ç†ä¸»é¢˜çš„åº“</h3><p>å…¶å®åšä¸€ä¸ªæ–¹ä¾¿ç®¡ç†å’Œåˆ‡æ¢ iOS ä¸»é¢˜çš„åº“çš„æƒ³æ³•æ˜¯å¥½å‡ å¹´å‰çš„äº‹äº†ï¼Œåœ¨è¿™æœŸé—´è„‘è¡¥è¿‡å¾ˆå¤šå®ç°æ–¹æ¡ˆï¼Œå½“æƒ³å¼€å§‹åšçš„æ—¶å€™åˆç”±äºæƒ³åˆ°äº†æ–¹æ¡ˆçš„ä¸è¶³å†åŠ ä¸Šæˆ‘å¯¹åˆ‡æ¢ä¸»é¢˜æ²¡æœ‰ä»€ä¹ˆéœ€æ±‚ï¼Œå¯¼è‡´ä¸€ç›´ææµ…ã€‚å‰æ®µæ—¶é—´çªå‘å¥‡æƒ³ï¼Œæ¥äº†çµæ„Ÿï¼Œå…ˆåœ¨è„‘è¢‹é‡Œæ‰“äº†ä¸ªè‰ç¨¿ï¼Œå‡ å‘¨åç€æ‰‹å¼€å§‹åšï¼ŒåŠ ä¸Šä¸€ä¸¤å¤©ç©ºé—²æ—¶é—´åšçš„å®éªŒï¼Œæœ€ç»ˆèŠ±äº†æˆ‘ä¸€æ™šä¸Šçš„æ—¶é—´ï¼ˆä¸‹ç­åï¼ŒåŒ…æ‹¬ä»£ç  + Demo + README + é€‚é…å„ç§ä¾èµ–ç®¡ç†å·¥å…·(Swift Package, Carthage, CocoaPodsï¼ŒåŒ…æ‹¬æœ¬åœ°æµ‹è¯•) + ä¼ åˆ° <a href="https://cocoapods.org/pods/WYZThemeManager">CocoaPods</a> ä¸Šï¼Œæœ€ç»ˆä¸¤ç‚¹å¤šå®Œæˆï¼‰ç»ˆäºæŠŠè¿™ä¸ªåº“åšå‡ºæ¥äº†ã€‚æ‰€ä»¥åšè¿™ç©æ„çº¯ç²¹æ˜¯ä¸ªäººå…´è¶£åŠ ä¸Šçªå‘å¥‡æƒ³ã€‚</p><span id="more"></span><h3 id="ä¸»é¢˜ç®¡ç†åº“çš„å®ç°æ–¹æ¡ˆ"><a class="markdownIt-Anchor" href="#ä¸»é¢˜ç®¡ç†åº“çš„å®ç°æ–¹æ¡ˆ"></a> ä¸»é¢˜ç®¡ç†åº“çš„å®ç°æ–¹æ¡ˆ</h3><h4 id="ä¸€èˆ¬çš„æ€è·¯"><a class="markdownIt-Anchor" href="#ä¸€èˆ¬çš„æ€è·¯"></a> ä¸€èˆ¬çš„æ€è·¯</h4><p>ä¾ç…§å¸¸è§„çš„æƒ³æ³•ä»¥åŠå¤§éƒ¨åˆ†ç°æœ‰å¼€æºåº“çš„æ€è·¯ï¼ŒåŸºæœ¬ä¸Šéƒ½æ˜¯å…ˆå®ç°ä¸€ä¸ªè‡ªå®šä¹‰çš„ä¸»é¢˜ç±»ï¼Œæ¯”å¦‚ï¼š<code>MyTheme</code>ï¼Œåœ¨å…¶ä¸­å®ç° UI é…ç½®ç›¸å…³çš„å±æ€§ï¼Œæ¯”å¦‚èƒŒæ™¯è‰²ã€å‰æ™¯è‰²ã€å­—ä½“ã€èƒŒæ™¯å›¾ç‰‡ç­‰ã€‚ç„¶åå®ç°ä¸€å¥—è‡ªå·±çš„é…ç½® UI æ–¹é¢çš„æ–¹æ³•ï¼Œæ¯”å¦‚ï¼š<code>my_backgroundColor</code>ï¼Œç„¶åæœ‰ä¸€ä¸ªå« <code>ThemeManager</code> çš„ä¸œè¥¿é€šè¿‡ç›¸åº”çš„æ–¹æ³•è´Ÿè´£åˆ‡æ¢ä¸»é¢˜ï¼Œåˆ‡æ¢ä¸»é¢˜ä¸€èˆ¬æ˜¯ <code>ThemeManager</code> å‘ä¸ªé€šçŸ¥ï¼Œç„¶å UI æ§ä»¶ç›‘å¬äº†æ­¤é€šçŸ¥ï¼Œç„¶ååšå‡ºç›¸åº”çš„ä¿®æ”¹ã€‚æˆ‘åœ¨ GitHub ä¸Šçœ‹åˆ°ä¸€ä¸ªåˆ«äººå†™çš„åŸºäº Swift çš„ç®¡ç†ä¸»é¢˜çš„åº“ï¼Œä¹Ÿä¸çŸ¥ä¸ºä½•è¿™ä¹ˆå¤š starï¼Œå¤§è‡´çœ‹äº†ä¸€ä¸‹ä»£ç ï¼Œè™½ç„¶å®ç°äº†åˆ‡æ¢ä¸»é¢˜çš„åŠŸèƒ½ï¼Œä½†æ˜¯è®¾ç½® UI å±æ€§æ—¶æ˜¯å°†æ‰€æœ‰ä¸»é¢˜çš„ç›¸åº”å±æ€§å€¼èµ‹ç»™ UI å±æ€§ï¼Œæ¯”å¦‚ <code>label.theme_textColor = [&quot;#000&quot;, &quot;#FFF&quot;]</code>ï¼Œåˆ‡æ¢ä¸»é¢˜æ—¶é€šè¿‡ <code>ThemeManager.setTheme(index: isNight ? 1 : 0)</code> è¿™ç§æ–¹å¼ï¼Œè¿™ç§å®ç°æ–¹å¼æ€ä¹ˆè¯´å‘¢ã€‚ã€‚ã€‚æˆ‘è§‰å¾—åªèƒ½ç”¨â€œå‘µå‘µâ€æ¥ä»£è¡¨æˆ‘çš„æƒ³æ³•å§ã€‚</p><h4 id="ç±»ä¼¼è¿™ç§æ€è·¯çš„ç¼ºç‚¹"><a class="markdownIt-Anchor" href="#ç±»ä¼¼è¿™ç§æ€è·¯çš„ç¼ºç‚¹"></a> ç±»ä¼¼è¿™ç§æ€è·¯çš„ç¼ºç‚¹</h4><p>ä¼˜ç‚¹æˆ‘å°±ä¸è¯´äº†ï¼Œå¯èƒ½ä¹Ÿå°±æ˜¯èƒ½åˆ‡æ¢ä¸»é¢˜ã€‚ä½†æ˜¯ç¼ºç‚¹å´æ˜¯ä¸€å¤§å †çš„ï¼Œæˆ‘å¯ä»¥ç½—åˆ—ä¸€äº›ï¼š</p><ul><li>å®ç°è‡ƒè‚¿ã€ç¹çï¼Œéœ€è¦å¯¹æ¯ä¸ª UI æ§ä»¶å®ç°è‡ªå·±çš„ UI é…ç½®æ–¹æ³•ï¼Œå…·ä½“å®ç°å¯èƒ½è®©äººè§‰å¾—ä¼šè¯¡å¼‚ï¼›</li><li>å¯¹ç³»ç»Ÿæ§ä»¶æœ‰ä¾µå…¥æ€§ï¼Œæœ‰äº›æ–¹æ³•æˆ–å±æ€§ç­‰éœ€è¦é€šè¿‡ <code>Method Swizzling</code> ç‰¹æ€§æ¥å®ç°ï¼Œå¯èƒ½ä¼šå¸¦æ¥ä¸€äº›æœªçŸ¥çš„é—®é¢˜ï¼›</li><li>æ‰©å±•æ€§æå·®ï¼Œä½ åªèƒ½ä½¿ç”¨å¼€æºåº“æ‰€å®ç°çš„ä¸€äº›æ–¹æ³•ï¼Œå¦‚æœæœ‰ä¸€äº›éœ€è¦è·Ÿéšä¸»é¢˜åŠ¨æ€æ”¹å˜çš„ä¸œè¥¿ï¼Œä½ å°±æ— æ³•å®ç°äº†ã€‚</li><li>å¯èƒ½éœ€è¦æ³¨å†Œè¿‡å¤šçš„é€šçŸ¥ï¼Œç”±äºå¯èƒ½æ˜¯é€šè¿‡é€šçŸ¥è¿›è¡Œæ›´æ¢ä¸»é¢˜çš„ï¼Œæ‰€ä»¥æ¯ä¸ª UI æ§ä»¶çš„å®ä¾‹æˆ–è€…ç›¸åº”çš„è¾…åŠ©ç±»éƒ½éœ€è¦ç›‘å¬ä¸»é¢˜æ”¹å˜çš„é€šçŸ¥ï¼Œæˆ‘ç›¸ä¿¡å¤§å®¶ä¹Ÿéƒ½çŸ¥é“é€šçŸ¥è¿‡å¤šå¸¦æ¥çš„åå¤„ï¼›</li><li>å ç”¨æ›´å¤šçš„å†…å­˜ï¼Œé¦–å…ˆæ˜¯å› ä¸ºæ³¨å†Œäº†è¿‡å¤šçš„é€šçŸ¥ï¼Œå…¶æ¬¡æ˜¯å¯èƒ½ä¿å­˜äº†å„ç§ä¸»é¢˜é…ç½®ï¼Œå†æ¬¡å¯èƒ½æ˜¯ç”±äºå®ç°ä¸»é¢˜åˆ‡æ¢åŠŸèƒ½ï¼Œå¯èƒ½ä¼šéœ€è¦å¾ˆå¤šçš„è¾…åŠ©ç±»ç­‰ã€‚</li><li>å¦‚æœ UIKit æœ‰æ›´æ–°ï¼Œè¿˜éœ€è¦å®ç°ç›¸åº”çš„æ–¹æ³•ï¼Œå¯èƒ½å¯¼è‡´åº“çš„æ›´æ–°ä¸åŠæ—¶ï¼Œä¹Ÿå°±å¯¼è‡´ä½ æ— æ³•åŠæ—¶ä½¿ç”¨æ–°çš„ UI ç‰¹æ€§ã€‚</li><li>â€¦â€¦</li></ul><h4 id="æˆ‘çš„æ€è·¯"><a class="markdownIt-Anchor" href="#æˆ‘çš„æ€è·¯"></a> æˆ‘çš„æ€è·¯</h4><p>æˆ‘æœ€åˆçš„æ€è·¯æ˜¯æœ‰ä¸ª <code>ThemeManager</code> ç”¨æ¥ç®¡ç†å’Œåˆ‡æ¢ä¸»é¢˜ï¼ˆè¿™ä¸ªè‚¯å®šéƒ½ä¸€æ ·ï¼‰ï¼Œç„¶ååˆå§‹æ³¨å†Œä¸€ä¸ªä¸»é¢˜åˆ° <code>ThemeManager</code>ï¼Œä½†æœ€ä¸»è¦çš„æ˜¯æ€ä¹ˆå®ç°ä¸»é¢˜çš„åˆ‡æ¢ã€‚æœ€ä¸€å¼€å§‹æˆ‘æƒ³åˆ°çš„æ˜¯æ‰©å±• UI æ§ä»¶çš„æ–¹æ³•ï¼Œæ¯”å¦‚ <code>-[UIView theme_setBackgroundColor:]</code>ï¼Œ å†…éƒ¨é€šè¿‡ <code>-[ThemeManger setViewObject:forUIKeyPath:toValueOfThemeKeyPath:]</code> çš„æ–¹æ³•å°†è¿™äº›æ•°æ®è®°å½•åˆ° <code>NSMapTable</code> æ•°æ®ç±»å‹çš„å±æ€§ä¸­ï¼Œåˆ‡æ¢ä¸»é¢˜æ—¶åªéœ€è¦éå†è¿™ä¸ªå±æ€§ï¼Œæ‰§è¡Œç›¸åº”çš„æ–¹æ³•å³å¯å®ç°ä¸»é¢˜çš„åˆ‡æ¢ã€‚</p><p>åˆçœ‹ä¸Šå»å¾ˆä¸é”™å“¦ï¼Œç‰¹åˆ«æ˜¯ Swift 4 ä¹‹ååŠ å…¥äº† <code>KeyPath</code> ç‰¹æ€§ï¼Œéƒ½æ˜¯åé¢ä¸€æƒ³è¿˜æ˜¯ä¸è¡Œçš„ã€‚å› ä¸ºæœ‰äº›æ˜¯é€šè¿‡æ–¹æ³•æ¥è®¾ç½® UI å±æ€§çš„ï¼Œæ¯”å¦‚è¯´ï¼š<code>-[UIButton setTitleColor:forState:]</code>ï¼Œè¿™ç§é€šè¿‡è¿™æ ·çš„æ–¹æ³•å°±ä¸å¥½å®ç°ï¼ˆå½“ç„¶ä¹Ÿèƒ½å®ç°ï¼Œåªæ˜¯æ„Ÿè§‰æ¯”è¾ƒä¸‘é™‹ã€ä¸å¤Ÿä¼˜é›…ï¼Œä¸æ˜¯æˆ‘æƒ³è¦çš„ç»“æœï¼‰ã€‚</p><p>å°±ç®—ä»¥ä¸Šçš„æƒ³æ³•éƒ½å®ç°äº†ï¼Œä½†æ˜¯è¿˜æœ‰ä¸€ä¸ªé—®é¢˜æˆ‘æ— æ³•æ¥å—ï¼Œå°±æ˜¯å†…å­˜å ç”¨é—®é¢˜ã€‚è™½ç„¶ç”¨äº† <code>NSMapTable</code>ï¼Œä½†æ˜¯ <code>UIView</code> é‡Šæ”¾æ‰ä¹‹ååªæ˜¯å…¶ Key è‡ªåŠ¨å˜æˆäº† <code>nil</code>ï¼Œä½†æ˜¯ä¿å­˜çš„ Value ä»ç„¶åœ¨å†…å­˜ä¸­æ²¡æœ‰é‡Šæ”¾ã€‚ä½•æ—¶ä»¥åŠæ€ä¹ˆé‡Šæ”¾è¿™äº› Value æ˜¯ä¸ªé—®é¢˜ã€‚</p><p>å°±æ˜¯å› ä¸ºè¿™äº›é—®é¢˜ï¼Œå›°æ‰°äº†æˆ‘å¥½å‡ å¹´çš„æ—¶é—´ã€‚å‰æ®µæ—¶é—´çªç„¶å¼€çªäº†ï¼Œæƒ³åˆ°ä¸€ä¸ªç»å¦™çš„æ–¹æ³•æ¥å®ç° UI å±æ€§è®¾ç½®çš„é—®é¢˜ï¼Œé‚£å°±æ˜¯é€šè¿‡é—­åŒ…å°†è®¾ç½®å±æ€§çš„è®¾ç½®æ”¾è¿›å»ï¼Œç„¶åé€šè¿‡ <code>ThemeItem</code> çš„ç»“æ„ä½“å°† UI å’Œè®¾ç½®å±æ€§çš„é—­åŒ…è¿›è¡Œå…³è”å’Œå­˜å‚¨ã€‚</p><p>è¿™ä¸ªæ˜¯å®ç°äº†ï¼Œä½†æ˜¯æ€ä¹ˆåšåˆ° UI é‡Šæ”¾æ‰ä¹‹åè‡ªåŠ¨æ¸…ç©ºå…¶é—­åŒ…å‘¢ï¼Ÿè¿™ä¸ªä¹Ÿæ˜¯è´¹äº†æˆ‘å‡ å¤©çš„æ—¶é—´æ¥æ€è€ƒï¼Œå¼€å§‹çš„æƒ³æ³•æ˜¯é€šè¿‡ <code>Method Swizzling</code> æ¥äº¤æ¢ <code>dealloc</code> æ–¹æ³•ï¼Œç„¶ååœ¨äº¤æ¢æ–¹æ³•ä¸­ç§»é™¤ç›¸åº”çš„ <code>ThemeItem</code>ã€‚ä½†æ˜¯ä»£ç å†™å®Œäº†ä¹‹åå‘ç°ç¼–è¯‘å™¨æŠ¥é”™äº†ï¼Œæ˜¯ä¸å…è®¸äº¤æ¢ <code>dealloc</code> æ–¹æ³•çš„ï¼Œç½‘ä¸Šæœäº†ä¸€ä¸‹å‘ç°å¯ä»¥é€šè¿‡ <code>NSSelectorFromString</code> çš„å‡½æ•°è¿›è¡Œäº¤æ¢ï¼Œè¯•äº†ä¸€ä¸‹ç»“æœå¹¶æ²¡æœ‰ä»»ä½•åµç”¨ï¼Œäº¤æ¢æ˜¯å¤±è´¥çš„ï¼Œæ²¡æœ‰èµ°ã€‚ã€‚ã€‚æœ€åçªç„¶æ¥äº†çµå…‰é—ªç°ï¼Œæˆ‘å¯ä»¥é€šè¿‡ <code>objc runtime</code> çš„å…³è”å¯¹è±¡ç‰¹æ€§æ¥è§£å†³è¿™ä¸ªé—®é¢˜å‘€ï¼</p><p>æˆ‘åˆ›å»ºäº†ä¸€ä¸ª <code>DeallocObserver</code> çš„ç±»ï¼Œé‡Œé¢æ”¾äº†ä¸¤ä¸ªå±æ€§ï¼Œä¸€ä¸ªæ˜¯è®°å½•éœ€è¦è§‚å¯Ÿè¢«é‡Šæ”¾çš„å¯¹è±¡çš„å†…å­˜åœ°å€ï¼Œè¿™æ ·æˆ‘ä¸éœ€è¦å¯¹è¢«è§‚å¯Ÿå¯¹è±¡è¿›è¡Œå¼•ç”¨ï¼Œä¸ä¼šå½±å“è¢«è§‚å¯Ÿè€…çš„ç”Ÿå‘½å‘¨æœŸï¼›å¦ä¸€ä¸ªæ˜¯è¢«è§‚å¯Ÿå¯¹è±¡è¢«é‡Šæ”¾åéœ€è¦æ‰§è¡Œçš„é—­åŒ…ï¼Œé—­åŒ…æœ‰ä¸ªå‚æ•°å€¼ï¼Œå°±æ˜¯å­˜å‚¨çš„å·²é‡Šæ”¾å¯¹è±¡ä¹‹å‰çš„å†…å­˜åœ°å€ã€‚æˆ‘å°† <code>DeallocObserver</code> å…³è”åˆ°è¢«è§‚å¯Ÿå¯¹è±¡ä¸Šï¼Œå½“è¢«è§‚å¯Ÿå¯¹è±¡é‡Šæ”¾çš„æ—¶å€™ï¼Œç”±äºå·²ç»æ²¡äººåœ¨å¼•ç”¨ <code>DeallocObserver</code> äº†ï¼Œæ‰€ä»¥ <code>DeallocObserver</code> ä¹Ÿä¼šç´§æ¥ç€è¢«é‡Šæ”¾ï¼Œæ­¤æ—¶å°±ä¼šæ‰§è¡Œåˆ° <code>DeallocObserver</code> çš„é—­åŒ…ï¼Œå‘Šè¯‰å¤–é¢åšä¸€äº›æ¸…ç†å·¥ä½œã€‚æ¯”å¦‚æˆ‘ç”¨æ¥å­˜å‚¨ <code>ThemeItem</code> çš„å˜é‡ <code>private var managedItems = [Int: [ThemeItem]]()</code>ï¼Œå› ä¸º <code>managedItems</code> æ˜¯ä¸ªå­—å…¸ï¼ŒKey å€¼ä¸ºè¢«è§‚å¯Ÿå¯¹è±¡çš„å†…å­˜åœ°å€ï¼Œæ‰€ä»¥åªéœ€è¦æ‰§è¡Œ <code>managedItems.removeValue(forKey:#memory address#)</code> å³å¯ã€‚</p><p>Perfect! æ‰€æœ‰çš„é—®é¢˜éƒ½è§£å†³äº†ï¼Œå®ç°æ–¹å¼è¶…ä¹å¯»å¸¸çš„ç®€å•ï¼Œæœ€ç»ˆä»£ç åªæœ‰ä¸åˆ° 90 è¡Œï¼Œå…·ä½“å®ç°å¯ä»¥çœ‹ä¸€ä¸‹ <a href="https://github.com/azone/ThemeManager/blob/0.1.0/Sources/ThemeManager/ThemeManager.swift">ThemeManager.swift</a>ã€‚</p><h4 id="åç»­çš„æ”¹è¿›02"><a class="markdownIt-Anchor" href="#åç»­çš„æ”¹è¿›02"></a> åç»­çš„æ”¹è¿›(0.2)</h4><p>ç”±äºç¬¬ä¸€ç‰ˆä»…æ”¯æŒåŸºäº UIView çš„å¯¹è±¡ï¼Œå‘å‡ºå»ä¹‹åæ²¡å‡ å¤©æƒ³åˆ°ä¸€ä¸ªæƒ³åˆ°ä¸€ä¸ªäº†ä¸€ä¸ªé—®é¢˜ï¼Œæœ‰ä¸€äº›éç»§æ‰¿è‡ª  UIView çš„ç±»å°±æ— æ³•å®ç°ä¸»é¢˜çš„åˆ‡æ¢äº†ï¼Œæ¯”å¦‚ä¸€äº›ç»§æ‰¿è‡ª <code>UIBarItem</code> çš„ç±»ã€‚é‚£ä½•å¿…å°†å…¶é™å®šæ­»ä¸º <code>UIView</code> å‘¢ï¼Ÿäºæ˜¯æˆ‘å°† <code>ThemeItem</code> çš„ç±»å‹é™å®šå¼€æ”¾ä¸º AnyObject äº†ã€‚</p><p>è¿™æ ·åšæœ‰ä»€ä¹ˆå¥½å¤„ï¼Ÿå¥½å¤„æ˜¾è€Œæ˜“è§ï¼Œæˆ‘ä¸ç»è¿‡å¯ä»¥åŠ¨æ€è®¾ç½® <code>UIView</code> çš„å±æ€§ï¼Œæˆ‘è¿˜å¯ä»¥åŠ¨æ€è®¾ç½®å…¶å®ƒç±»å‹çš„å±æ€§ï¼Œæ¯”å¦‚ï¼š<code>UIBarButtonItem</code> çš„ <code>title</code>ã€<code>image</code> ç­‰ã€‚å¦å¤–æˆ‘è¿˜æ”¹é€ äº† <code>ThemeManager</code> çš„ <code>setup</code> æ–¹æ³•ï¼Œå‚æ•°å˜ä¸º Optional å‚æ•°ï¼Œå¦‚æœä¸º <code>nil</code> å°±ä»€ä¹ˆéƒ½ä¸åšï¼Œæå¤§çš„æ–¹ä¾¿äº†ç¼–ç æ•ˆç‡ï¼Œä¸¾ä¸ªä¾‹å­ï¼Œæ¯”å¦‚éœ€è¦è®¾ç½® <code>navigationController?.navigationBar</code> çš„å±æ€§ï¼Œæˆ‘åªéœ€è¦é€šè¿‡å¦‚ä¸‹ä»£ç å³å¯è½»æ¾å®ç°ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">themeManager.setup(navigationController<span class="operator">?</span>.navigationBar) &#123; (bar, theme) <span class="keyword">in</span></span><br><span class="line">    bar.tintColor <span class="operator">=</span> theme.mainColor</span><br><span class="line">    bar.barTintColor <span class="operator">=</span> theme.backgroundColor</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é™¤äº† UI çš„æ ·å¼ä¹‹å¤–ï¼Œåæ¥æˆ‘ä¹Ÿæƒ³åˆ°ï¼Œæˆ‘çš„ <code>ThemeManager</code> ä¸ä»…ä»…å¯ä»¥åšä¸»é¢˜çš„åˆ‡æ¢ï¼Œè¿˜å¯ä»¥åšå¤šè¯­è¨€çš„åˆ‡æ¢ç­‰æ‰€æœ‰ä½ èƒ½æƒ³å¾—åˆ°çš„å®ƒå¯ä»¥å®ç°çš„ä¸œè¥¿ï¼Œè€Œæ‰€æœ‰è¿™äº›æ²¡æœ‰åŠ¨åˆ° <code>UIKit</code> çš„ä»»ä½•ä¸€ç‚¹ä¸œè¥¿ï¼Œæ¯”å¦‚æƒ³åšä¸€ä¸ªå¤šè¯­è¨€çš„åˆ‡æ¢ï¼Œå¯ä»¥ç®€å•çš„å®ç°å¦‚ä¸‹æ–¹æ³•ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// éœ€è¦å®ç° Theme åè®®</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Language</span>: <span class="title">Theme</span> </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> greeting: <span class="type">String</span> <span class="operator">=</span> <span class="string">&quot;Hello&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆå§‹åŒ– ThemeManager å¹¶ä½¿ç”¨é»˜è®¤çš„è¯­è¨€</span></span><br><span class="line"><span class="keyword">let</span> languageManager <span class="operator">=</span> <span class="type">ThemeManager</span>(<span class="type">Language</span>())</span><br><span class="line"></span><br><span class="line"><span class="comment">// è®¾ç½® label çš„æ ‡é¢˜</span></span><br><span class="line">languageManager.setup(label) &#123; (label, language) <span class="keyword">in</span></span><br><span class="line">    label.text <span class="operator">=</span> language.greeting</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ‡æ¢è¯­è¨€ï¼Œä¸ç®¡ä½ ç”¨ä»»ä½•æ–¹å¼åŠ è½½è¯­è¨€æ–‡ä»¶æˆ–åˆå§‹åŒ– Languageï¼Œæ¯”å¦‚</span></span><br><span class="line"><span class="keyword">var</span> zhLanguage <span class="operator">=</span> <span class="type">Language</span>();</span><br><span class="line">zhLanguage.greeting <span class="operator">=</span> <span class="string">&quot;ä½ å¥½&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å˜æ›´è¯­è¨€</span></span><br><span class="line">languageManager.apply(zhLanguage)</span><br></pre></td></tr></table></figure><h4 id="å°†æ¥å¯ä»¥æ–°å¢çš„ç‰¹æ€§"><a class="markdownIt-Anchor" href="#å°†æ¥å¯ä»¥æ–°å¢çš„ç‰¹æ€§"></a> å°†æ¥å¯ä»¥æ–°å¢çš„ç‰¹æ€§</h4><p>è¿™äº›åŠŸèƒ½è™½ç„¶è¶³å¤Ÿç”¨äº†ï¼Œä½†æ˜¯æˆ‘è§‰å¾—è¿˜å¯ä»¥åšå¾—æ›´å¤šã€‚~~iOS 13 é©¬ä¸Šå°±è¦å‘å¸ƒäº†ï¼Œå¤§å®¶éƒ½çŸ¥é“ iOS 13 åŠ å…¥äº†é»‘è‰²ä¸»é¢˜çš„æ”¯æŒï¼Œä¸‹ä¸€æ­¥æˆ‘æƒ³åšçš„å°±æ˜¯ç›‘å¬ç³»ç»Ÿé»‘ç™½ä¸»é¢˜çš„çš„å˜åŒ–ï¼Œé€šè¿‡å›è°ƒå‘Šè¯‰å¤–é¢ï¼Œç„¶åä½ è‡ªå·±åšå†³å®šæ˜¯å¦æ ¹æ®ç³»ç»Ÿä¸»é¢˜çš„åˆ‡æ¢è€Œåˆ‡æ¢å½“å‰ä¸»é¢˜ã€‚~~è™½ç„¶ç³»ç»Ÿæä¾›äº†è‡ªåŠ¨åˆ‡æ¢é¢˜çš„æ–¹æ³•ï¼Œä½†æ˜¯ç³»ç»Ÿå°†ä½ çš„ä¸»é¢˜é™å®šæ­»äº†ï¼Œåªèƒ½ä½¿ç”¨ä¸¤ç§ä¸»é¢˜ï¼Œæƒ³è¦å®ç°æ›´å¤šçš„ä¸»é¢˜ï¼Œé€šè¿‡æˆ‘è¿™ä¸ªåº“æ¥å®ç°ï¼Œæ²¡é”™çš„~ã€‚é™¤äº†è¿™ä¸ªä¹‹å¤–ï¼Œæˆ‘è¿˜æƒ³åœ¨ä¸‹ä¸€ç‰ˆæ”¯æŒè‡ªå®šä¹‰åŠ¨ç”»åˆ‡æ¢åŠŸèƒ½ã€‚</p><hr /><h4 id="030-æ–°åŠŸèƒ½"><a class="markdownIt-Anchor" href="#030-æ–°åŠŸèƒ½"></a> 0.3.0 æ–°åŠŸèƒ½</h4><ul><li>å¢åŠ ä¸»é¢˜å˜æ›´æ—¶çš„é€šçŸ¥</li><li>å¯ä»¥è‡ªå®šä¹‰åŠ¨ç”»</li></ul><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// register notification</span></span><br><span class="line"><span class="type">NotificationCenter</span>.default.addObserver(<span class="keyword">self</span>, selector: #selector(themeChanged(<span class="keyword">_</span>:)), name: .<span class="type">ThemeDidChange</span>, object: <span class="literal">nil</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// custom animation theme change animation</span></span><br><span class="line">themeManager.animationBlock <span class="operator">=</span> &#123;</span><br><span class="line">    <span class="type">UIView</span>.animate(withDuration: <span class="number">0.3</span>, animations: <span class="variable">$0</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ä¼˜ç‚¹æ€»ç»“"><a class="markdownIt-Anchor" href="#ä¼˜ç‚¹æ€»ç»“"></a> ä¼˜ç‚¹æ€»ç»“</h3><ul><li>è¯´åˆ°ä¼˜ç‚¹ï¼Œé¦–å…ˆä¸€ç‚¹å°±æ˜¯å¯¹ç³»ç»Ÿæ²¡æœ‰ä»»ä½•çš„å…¥ä¾µæ€§ï¼Œæ²¡æœ‰å¯¹ç³»ç»Ÿåº“åšä»»ä½•ä¿®æ”¹ï¼›</li><li>æ¯”è¾ƒå¥½çš„å†…å­˜ç®¡ç†ï¼Œç›¸åº”çš„å¯¹è±¡è¢«é‡Šæ”¾åï¼Œå…¶å¯¹åº”çš„ç›¸åº”çš„é…ç½®ä¹Ÿè¢«é‡Šæ”¾ï¼Œè€Œä¸”å½“å‰ä»…ä¿å­˜ä¸€ä¸ªä¸»é¢˜å®ä¾‹ï¼›</li><li>è‡ªç”±åº¦å¾ˆå¤§ï¼Œæˆ‘ä¸ç®¡ä½ çš„ <code>Theme</code> å¦‚ä½•å®ç°ï¼Œä¸ç®¡ä½ æ˜¯æ€ä¹ˆåŠ è½½å’Œä¿å­˜ä¸»é¢˜çš„ï¼Œä½ è¦åšçš„åªæ˜¯å®ç°æˆ‘çš„ <code>Theme</code> è¿™ä¸ªç©ºçš„åè®®ï¼›</li><li>ç³»ç»Ÿå‘å¸ƒæ–°ç‰ˆæœ¬ã€æ–°ç‰¹æ€§æ—¶ï¼Œä½ ä¸éœ€è¦ç®¡ <code>ThemeManager</code>ï¼Œå®ƒä¸€æ ·å¯ä»¥è¿è¡Œï¼Œå¹¶å®ç°ä½ æƒ³è¦çš„æ‰€æœ‰æ–°ç‰¹æ€§ï¼›</li><li>ã€‡ é€šçŸ¥æ³¨å†Œï¼Œæ²¡æœ‰æ³¨å†Œä»»ä½•çš„é€šçŸ¥ï¼›</li><li>ä½“ç§¯å°ã€ä½¿ç”¨ç®€å•ï¼Œè¿™ä¸ªåº“æ€»å…±ä»£ç è¡Œæ•°æ‰ 89 è¡Œï¼ˆ0.2 ç‰ˆæœ¬ï¼ŒåŒ…æ‹¬ç©ºè¡Œå’Œæ³¨é‡Šï¼‰ï¼Œè™½ç„¶ä»£ç å°‘ã€å®ç°ç®€å•ï¼Œä½†æ˜¯å¯ä»¥æ»¡è¶³å‡ ä¹æ‰€æœ‰ä¸»é¢˜å’Œè¯­è¨€åˆ‡æ¢çš„æ‰€æœ‰åŠŸèƒ½ï¼›</li><li>æ”¯æŒä¸»é¢˜åˆ‡æ¢åŠ¨ç”»ï¼Œæ˜¯ä¸»é¢˜åˆ‡æ¢èµ·æ¥è¿‡æ¸¡è‡ªç„¶ï¼ˆè¿‡æ¸¡åŠ¨ç”»ä»…å¯¹å¯è§è§†å›¾æœ‰æ•ˆï¼Œä¸å¯è§è§†å›¾ä½¿ç”¨åŠ¨ç”»æ˜¯æ— ä»»ä½•æ„ä¹‰çš„ï¼‰ã€‚</li></ul><p>æœ€åï¼Œå¦‚æœä½ è§‰å¾—è¿™ä¸ªåº“è¿˜å¯ä»¥çš„è¯ï¼Œé‚£ä¹ˆæ¬¢è¿æ‚¨ä½¿ç”¨å¹¶ starï¼Œæ¬¢è¿æå‡ºå®è´µæ„è§æˆ–è€… PRã€‚GitHub åœ°å€ï¼š<a href="https://github.com/azone/ThemeManager">https://github.com/azone/ThemeManager</a>ã€‚ç”±äºè‹±æ–‡ä¸å¤Ÿå¥½ï¼ŒREADME åˆå…¨æ˜¯ç”¨è‹±æ–‡å†™çš„ï¼ˆçœŸæ˜¯èƒ†å¤§ï¼ŒçŒ®ä¸‘äº†ğŸ˜†ï¼‰ï¼Œå¦‚æœæœ‰ä»€ä¹ˆä¸å¯¹çš„åœ°æ–¹è¿˜æœ›æ‰¹è¯„æŒ‡æ­£ï¼</p><p><em>åˆšæ‰å‘ç°æœç‹çš„ç•…è¨€ç«Ÿç„¶ç»™æˆ‘åŠ äº†ä¸€äº›æ¶å¿ƒçš„å¹¿å‘Šï¼Œæœæ–­å¼ƒç”¨ï¼Œè¿˜æ˜¯æ”¹ç”¨ <a href="https://disqus.com">disqus</a> å§ï¼Œdisqus ä¹Ÿæ˜¯æ”¯æŒå¹¿å‘Šçš„ï¼Œæ˜¯å¯é…ç½®çš„ï¼Œæˆ‘å‡†å¤‡å¼€å¯ä¸€ä¸‹è¯•è¯•ã€‚</em></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;ä»Šå¤©çªç„¶æƒ³å†™ç¯‡åšå®¢ï¼Œçœ‹äº†ä¸Šä¸€ç¯‡çš„å‘è¡¨æ—¶é—´ï¼Œå·²ç»å¿«æ¥è¿‘ä¸‰å¹´åŠäº†ï¼Œç€å®æƒ­æ„§å•Š~ã€‚è¿™ç¯‡æ–‡ç« ä¸»è¦ä»‹ç»ä¸€ä¸‹å‰æ®µæ—¶é—´çªå‘å¥‡æƒ³å†™çš„ä¸€ä¸ªç®¡ç† iOS ä¸»é¢˜çš„å¼€æºå°åº“ï¼š&lt;a href=&quot;https://github.com/azone/ThemeManager&quot;&gt;ThemeManager&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;h3 id=&quot;ä¸ºä½•è¦å®ç°ä¸€ä¸ªç®¡ç†ä¸»é¢˜çš„åº“&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#ä¸ºä½•è¦å®ç°ä¸€ä¸ªç®¡ç†ä¸»é¢˜çš„åº“&quot;&gt;&lt;/a&gt; ä¸ºä½•è¦å®ç°ä¸€ä¸ªç®¡ç†ä¸»é¢˜çš„åº“&lt;/h3&gt;
&lt;p&gt;å…¶å®åšä¸€ä¸ªæ–¹ä¾¿ç®¡ç†å’Œåˆ‡æ¢ iOS ä¸»é¢˜çš„åº“çš„æƒ³æ³•æ˜¯å¥½å‡ å¹´å‰çš„äº‹äº†ï¼Œåœ¨è¿™æœŸé—´è„‘è¡¥è¿‡å¾ˆå¤šå®ç°æ–¹æ¡ˆï¼Œå½“æƒ³å¼€å§‹åšçš„æ—¶å€™åˆç”±äºæƒ³åˆ°äº†æ–¹æ¡ˆçš„ä¸è¶³å†åŠ ä¸Šæˆ‘å¯¹åˆ‡æ¢ä¸»é¢˜æ²¡æœ‰ä»€ä¹ˆéœ€æ±‚ï¼Œå¯¼è‡´ä¸€ç›´ææµ…ã€‚å‰æ®µæ—¶é—´çªå‘å¥‡æƒ³ï¼Œæ¥äº†çµæ„Ÿï¼Œå…ˆåœ¨è„‘è¢‹é‡Œæ‰“äº†ä¸ªè‰ç¨¿ï¼Œå‡ å‘¨åç€æ‰‹å¼€å§‹åšï¼ŒåŠ ä¸Šä¸€ä¸¤å¤©ç©ºé—²æ—¶é—´åšçš„å®éªŒï¼Œæœ€ç»ˆèŠ±äº†æˆ‘ä¸€æ™šä¸Šçš„æ—¶é—´ï¼ˆä¸‹ç­åï¼ŒåŒ…æ‹¬ä»£ç  + Demo + README + é€‚é…å„ç§ä¾èµ–ç®¡ç†å·¥å…·(Swift Package, Carthage, CocoaPodsï¼ŒåŒ…æ‹¬æœ¬åœ°æµ‹è¯•) + ä¼ åˆ° &lt;a href=&quot;https://cocoapods.org/pods/WYZThemeManager&quot;&gt;CocoaPods&lt;/a&gt; ä¸Šï¼Œæœ€ç»ˆä¸¤ç‚¹å¤šå®Œæˆï¼‰ç»ˆäºæŠŠè¿™ä¸ªåº“åšå‡ºæ¥äº†ã€‚æ‰€ä»¥åšè¿™ç©æ„çº¯ç²¹æ˜¯ä¸ªäººå…´è¶£åŠ ä¸Šçªå‘å¥‡æƒ³ã€‚&lt;/p&gt;</summary>
    
    
    
    <category term="iOS" scheme="http://firestudio.cn/categories/ios/"/>
    
    <category term="UIKit" scheme="http://firestudio.cn/categories/ios/uikit/"/>
    
    <category term="Swift" scheme="http://firestudio.cn/categories/ios/uikit/swift/"/>
    
    
    <category term="Swift" scheme="http://firestudio.cn/tags/swift/"/>
    
    <category term="iOS" scheme="http://firestudio.cn/tags/ios/"/>
    
    <category term="UIKit" scheme="http://firestudio.cn/tags/uikit/"/>
    
  </entry>
  
  <entry>
    <title>Swift ä¸‹ OpenGL æˆªå›¾å®¹æ˜“å¯¼è‡´çš„å†…å­˜æ³„éœ²</title>
    <link href="http://firestudio.cn/2016/03/11/take-screenshot-of-eaglview-may-easily-cause-memory-leaks-in-swift/"/>
    <id>http://firestudio.cn/2016/03/11/take-screenshot-of-eaglview-may-easily-cause-memory-leaks-in-swift/</id>
    <published>2016-03-11T02:38:57.000Z</published>
    <updated>2019-03-27T14:23:09.918Z</updated>
    
    <content type="html"><![CDATA[<p>ç”±äºä¸šåŠ¡éœ€æ±‚ï¼Œéœ€è¦å¯¹ä¸¤ä¸ªï¼ˆç°åœ¨æ˜¯ä¸‰ä¸ªäº†ï¼‰ä¸­çš„ä¸€ä¸ª OpenGL æ¸²æŸ“çš„è§†å›¾è¿›è¡Œæˆªå›¾å¹¶å¢åŠ æ¨¡ç³Šæ•ˆæœã€‚å¼€å§‹ç”¨ä¼ ç»Ÿçš„æ–¹æ³•è¿›è¡Œæˆªå›¾ï¼Œä½†æ˜¯å¤±è´¥äº†ï¼ˆæˆªå–çš„æ˜¯é»‘å±è¿˜æ˜¯ç©ºç™½ï¼Œå¿˜è®°äº†ã€‚ã€‚ã€‚ï¼‰ï¼Œåæ¥æ„è¯†åˆ°è¿™ä¸ªå’Œä¸€èˆ¬çš„è§†å›¾åº”è¯¥æ˜¯ä¸ä¸€æ ·çš„ï¼Œå°±åˆ°  Google ä¸Šæœäº†ä¸€ä¸‹ã€‚ç”±äºæ²¡æ€ä¹ˆç©è¿‡ï¼Œåˆä¸æ€ä¹ˆæ‡‚ï¼Œå°±ç›´æ¥ç¿»è¯‘æˆ <code>Swift</code> äº†ã€‚å¼€å§‹æ˜¯æ²¡å‘ç°ä»€ä¹ˆé—®é¢˜çš„ï¼Œéƒ½æ˜¯ä½†æ˜¯åˆ°åæ¥å‘ç°æˆªå›¾æ€»æ˜¯å…¶ä¸­ä¸€ä¸ªçš„ï¼ˆçœ‹é‚£ä¸ªå…ˆå‡ºæ¥ï¼ŒåŸºæœ¬ä¸Šä¸æ˜¯æƒ³è¦çš„é‚£ä¸ªï¼‰ï¼Œè€Œä¸æ˜¯æƒ³è¦çš„é‚£ä¸ªã€‚</p><p>ä»”ç»†ç ”ç©¶åå‘ç°ï¼ŒOpenGL çš„æˆªå›¾æ˜¯æ ¹æ® RenderBuffer æ¥æˆªå–çš„ï¼Œç”±äºæ²¡æœ‰æŒ‡å®š RenderBuffer æ‰€ä»¥æˆªå–çš„å›¾åªæ˜¯å…¶ä¸­æŸä¸€ä¸ªã€‚çŸ¥é“äº†è¿™ä¸ªä¹Ÿæ²¡ç”¨ï¼Œç”±äºè¿™ä¸ª View ç”¨çš„æ˜¯ç¬¬ä¸‰æ–¹åº“ï¼Œæ‰€ä»¥ä¸çŸ¥é“è¿™ä¸ª View çš„ RenderBufferã€‚ã€‚ã€‚åæœç»è¿‡ Debugï¼Œå‘ç°è¿™ä¸ª View æœ‰ä¸ª <code>_colorRenderBuffer</code> å±æ€§ï¼Œè¿™å°±å¥½åŠå•¦~ã€‚ç»è¿‡æ”¹é€ åä»£ç å¦‚ä¸‹ï¼š</p><span id="more"></span><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">snapshotForEAGLView</span>(<span class="params">glView</span>: <span class="type">UIView</span>)</span> -&gt; <span class="type">UIImage</span> &#123;</span><br><span class="line">   <span class="keyword">var</span> width: <span class="type">GLint</span> <span class="operator">=</span> <span class="number">0</span>, height: <span class="type">GLint</span> <span class="operator">=</span> <span class="number">0</span></span><br><span class="line">   <span class="keyword">let</span> scale: <span class="type">CGFloat</span> <span class="operator">=</span> <span class="type">UIScreen</span>.mainScreen().scale</span><br><span class="line">   <span class="keyword">let</span> prevGLContext <span class="operator">=</span> <span class="type">EAGLContext</span>.currentContext()</span><br><span class="line">   <span class="comment">// glView æœ‰ä¸ª _colorRenderBuffer å±æ€§(ç”±äº glView æ˜¯ç¬¬ä¸‰æ–¹åº“çš„è§†å›¾ï¼Œæ‰€ä»¥åªèƒ½é€šè¿‡è¿™ç§æ–¹æ³•æ¥è·å– _colorRenderBuffer)ï¼Œéœ€è¦å°†å®ƒä¸ GL_RENDERBUFFER ç»‘å®šï¼Œå¦åˆ™å‡ºç°çš„æˆªå›¾å¯èƒ½æ˜¯å¦å¤–ä¸€ä¸ª OpenGL è§†å›¾</span></span><br><span class="line">   <span class="keyword">if</span> <span class="keyword">let</span> colorRenderBuffer <span class="operator">=</span> glView.valueForKeyPath(<span class="string">&quot;_colorRenderBuffer&quot;</span>) <span class="keyword">as?</span> <span class="type">Int</span> &#123;</span><br><span class="line">       glBindRenderbuffer(<span class="type">GLenum</span>(<span class="type">GL_RENDERBUFFER</span>), <span class="type">GLuint</span>(colorRenderBuffer))</span><br><span class="line"></span><br><span class="line">       glGetRenderbufferParameteriv(<span class="type">GLenum</span>(<span class="type">GL_RENDERBUFFER</span>), <span class="type">GLenum</span>(<span class="type">GL_RENDERBUFFER_WIDTH</span>), <span class="operator">&amp;</span>width)</span><br><span class="line">       glGetRenderbufferParameteriv(<span class="type">GLenum</span>(<span class="type">GL_RENDERBUFFER</span>), <span class="type">GLenum</span>(<span class="type">GL_RENDERBUFFER_HEIGHT</span>), <span class="operator">&amp;</span>height)</span><br><span class="line"></span><br><span class="line">       <span class="comment">// glView æœ‰ä¸ª _context å±æ€§ï¼Œéœ€è¦å°†å®ƒè®¾ç½®æˆå½“å‰çš„ EAGLContextï¼Œå¹¶ä¸”æ‰§è¡Œ presentRenderbuffer æ–¹æ³•ç”¨æ¥æŠŠ CAEAGLLayer æ¸²æŸ“å‡ºæ¥</span></span><br><span class="line">       <span class="keyword">if</span> <span class="keyword">let</span> glContext <span class="operator">=</span> glView.valueForKeyPath(<span class="string">&quot;_context&quot;</span>) <span class="keyword">as?</span> <span class="type">EAGLContext</span> &#123;</span><br><span class="line">           <span class="type">EAGLContext</span>.setCurrentContext(glContext)</span><br><span class="line">           glContext.presentRenderbuffer(<span class="type">Int</span>(<span class="type">GL_RENDERBUFFER</span>)) <span class="comment">// æ˜¾ç¤ºå½“å‰ view çš„ CAEAGLLayer</span></span><br><span class="line">       &#125;</span><br><span class="line">   &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">       width <span class="operator">=</span> <span class="type">GLint</span>(glView.bounds.width <span class="operator">*</span> scale)</span><br><span class="line">       height <span class="operator">=</span> <span class="type">GLint</span>(glView.bounds.height <span class="operator">*</span> scale)</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">let</span> dataLength <span class="operator">=</span> width <span class="operator">*</span> height <span class="operator">*</span> <span class="number">4</span></span><br><span class="line">   <span class="keyword">let</span> imageBytes <span class="operator">=</span> <span class="type">UnsafeMutablePointer</span>&lt;<span class="type">GLubyte</span>&gt;.alloc(<span class="type">Int</span>(dataLength))</span><br><span class="line">   <span class="comment">// å°†å›¾åƒä¿¡æ¯å­˜å…¥å†…å­˜</span></span><br><span class="line">   glPixelStorei(<span class="type">GLenum</span>(<span class="type">GL_PACK_ALIGNMENT</span>), <span class="number">4</span>)</span><br><span class="line">   <span class="comment">// è¯»å–å›¾åƒçš„åƒç´ ä¿¡æ¯å¹¶å†™å…¥åˆ° imageBytes</span></span><br><span class="line">   glReadPixels(<span class="number">0</span>, <span class="number">0</span>, <span class="type">GLsizei</span>(width), <span class="type">GLsizei</span>(height), <span class="type">GLenum</span>(<span class="type">GL_RGBA</span>), <span class="type">GLenum</span>(<span class="type">GL_UNSIGNED_BYTE</span>), imageBytes)</span><br><span class="line"></span><br><span class="line">   <span class="keyword">let</span> dataProvider <span class="operator">=</span> <span class="type">CGDataProviderCreateWithData</span>(<span class="literal">nil</span>, imageBytes, <span class="type">Int</span>(dataLength), <span class="literal">nil</span>)</span><br><span class="line"></span><br><span class="line">   <span class="type">EAGLContext</span>.setCurrentContext(prevGLContext)</span><br><span class="line"></span><br><span class="line">   <span class="keyword">let</span> colorSpace <span class="operator">=</span> <span class="type">CGColorSpaceCreateDeviceRGB</span>()</span><br><span class="line">   <span class="keyword">if</span> <span class="keyword">let</span> imageRef <span class="operator">=</span> <span class="type">CGImageCreate</span>(<span class="type">Int</span>(width), <span class="type">Int</span>(height), <span class="number">8</span>, <span class="number">32</span>, <span class="type">Int</span>(width) <span class="operator">*</span> <span class="number">4</span>, colorSpace, [<span class="type">CGBitmapInfo</span>.<span class="type">ByteOrder32Big</span>, <span class="type">CGBitmapInfo</span>(rawValue: <span class="type">CGImageAlphaInfo</span>.<span class="type">PremultipliedLast</span>.rawValue)], dataProvider, <span class="literal">nil</span>, <span class="literal">true</span>, <span class="type">CGColorRenderingIntent</span>.<span class="type">RenderingIntentDefault</span>) &#123;</span><br><span class="line">       <span class="keyword">return</span> <span class="type">UIImage</span>(CGImage: imageRef, scale: scale, orientation: .<span class="type">DownMirrored</span>)</span><br><span class="line">   &#125;</span><br><span class="line">   </span><br><span class="line">   <span class="keyword">return</span> <span class="type">UIImage</span>()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¾ˆæ£’ï¼ä½†æ˜¯å¾ˆå¿«åˆå‘ç°äº†é—®é¢˜ï¼ŒæŒ‚æ—¶é—´ç¨é•¿å°±ä¼šå´©æºƒï¼ˆè¿™ä¸ªåœ¨ä¹‹å‰ä¹Ÿæ˜¯æœ‰çš„ï¼Œåªæ˜¯ç²¾åŠ›å…¨æ”¾åœ¨å¦å¤–ä¸€ä¸ªé—®é¢˜ä¸Šäº†ï¼‰ï¼ç»è¿‡è°ƒè¯•åå‘ç°æœ‰å¾ˆä¸¥é‡çš„å†…å­˜æ³„éœ²é—®é¢˜ï¼ï¼ï¼ä»ä»£ç å¯ä»¥å¾ˆå®¹æ˜“çœ‹å‡ºæ˜¯ç”±äº <code>imageBytes</code> æ²¡æœ‰é‡Šæ”¾çš„åŸå› ï¼Œäºæ˜¯åœ¨ <code>let dataProvider = CGDataProviderCreateWithData(nil, imageBytes, Int(dataLength), nil)</code> ä¸‹é¢åŠ äº†ä¸¤è¡Œä»£ç æ¥é‡Šæ”¾å†…å­˜ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">imageBytes.destroy()</span><br><span class="line">imageBytes.dealloc(<span class="type">Int</span>(dataLength))</span><br></pre></td></tr></table></figure><p>è¿™æ ·åšè™½ç„¶å†…å­˜é‡Šæ”¾æ‰äº†ï¼Œä½†æ˜¯åˆå‡ºé—®é¢˜äº†ã€‚ã€‚ã€‚æˆªçš„å›¾ä¸è§äº†ï¼Œè°ƒè¯•å‘ç°å›¾æ˜¯ç©ºçš„ã€‚ç»è¿‡åˆ†æå¾—çŸ¥ç”±äº <code>UIImage</code>ã€<code>dataProvider</code> å’Œ <code>imageRef</code> ç”¨çš„æ˜¯ä¸€å—å†…å­˜ï¼Œæ‰€ä»¥ä¸Šé¢ä¸¤è¡Œä»£ç ç­‰äºæŠŠ UIImage çš„å†…å­˜ä¹Ÿé‡Šæ”¾æ‰äº†ã€‚</p><p>ç°åœ¨è¦åšçš„å°±æ˜¯æŠŠ <code>imageBytes</code> æ‹·ä¸€ä»½å‡ºæ¥ï¼Œè¿™æ ·å†é‡Šæ”¾ <code>imageBytes</code> å°±ä¸ä¼šæœ‰å½±å“äº†ã€‚é€šè¿‡æŸ¥æ–‡æ¡£å¾—çŸ¥ <code>CGDataProviderRef</code> å¯ä»¥é€šè¿‡ <code>CGDataProviderCreateWithCFData</code> æ¥åˆ›å»ºï¼Œ<code>CFDataRef</code> åˆå¯ä»¥é€šè¿‡ <code>CFDataCreate</code> æ¥åˆ›å»ºï¼Œé€šè¿‡ <code>CFDataCreate</code> çš„å®˜æ–¹æ–‡æ¡£å¾—çŸ¥æ˜¯é€šè¿‡æ‹·è´æŒ‡å®šçš„ç¼“å†²å­—èŠ‚æ¥åˆ›å»º <code>CFData</code> çš„ï¼š</p><blockquote><p>Creates an immutable CFData object using data copied from a specified byte buffer.</p></blockquote><p>è™½ç„¶é¥¶äº†ä¸€ç‚¹ï¼Œä½†æ˜¯ä¹Ÿç®—æ˜¯æ‰¾åˆ°å¥½æ–¹æ³•äº†ï¼Œåªè¦æŠŠ <code>let dataProvider = CGDataProviderCreateWithData(nil, imageBytes, Int(dataLength), nil)</code> æ”¹æˆä¸‹é¢çš„ä»£ç å°±è§£å†³å•¦ï¼</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> data <span class="operator">=</span> <span class="type">CFDataCreate</span>(<span class="literal">nil</span>, imageBytes, <span class="type">CFIndex</span>(dataLength))</span><br><span class="line"><span class="keyword">let</span> dataProvider <span class="operator">=</span> <span class="type">CGDataProviderCreateWithCFData</span>(data)</span><br><span class="line">imageBytes.destroy()</span><br><span class="line">imageBytes.dealloc(<span class="type">Int</span>(dataLength))</span><br></pre></td></tr></table></figure><p>æœ€ç»ˆä»£ç ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">snapshotForEAGLView</span>(<span class="params">glView</span>: <span class="type">UIView</span>)</span> -&gt; <span class="type">UIImage</span> &#123;</span><br><span class="line">   <span class="keyword">var</span> width: <span class="type">GLint</span> <span class="operator">=</span> <span class="number">0</span>, height: <span class="type">GLint</span> <span class="operator">=</span> <span class="number">0</span></span><br><span class="line">   <span class="keyword">let</span> scale: <span class="type">CGFloat</span> <span class="operator">=</span> <span class="type">UIScreen</span>.mainScreen().scale</span><br><span class="line">   <span class="keyword">let</span> prevGLContext <span class="operator">=</span> <span class="type">EAGLContext</span>.currentContext()</span><br><span class="line">   <span class="comment">// glView æœ‰ä¸ª _colorRenderBuffer å±æ€§(ç”±äº glView æ˜¯ç¬¬ä¸‰æ–¹åº“çš„è§†å›¾ï¼Œæ‰€ä»¥åªèƒ½é€šè¿‡è¿™ç§æ–¹æ³•æ¥è·å– _colorRenderBuffer)ï¼Œéœ€è¦å°†å®ƒä¸ GL_RENDERBUFFER ç»‘å®šï¼Œå¦åˆ™å‡ºç°çš„æˆªå›¾å¯èƒ½æ˜¯å¦å¤–ä¸€ä¸ª OpenGL è§†å›¾</span></span><br><span class="line">   <span class="keyword">if</span> <span class="keyword">let</span> colorRenderBuffer <span class="operator">=</span> glView.valueForKeyPath(<span class="string">&quot;_colorRenderBuffer&quot;</span>) <span class="keyword">as?</span> <span class="type">Int</span> &#123;</span><br><span class="line">       glBindRenderbuffer(<span class="type">GLenum</span>(<span class="type">GL_RENDERBUFFER</span>), <span class="type">GLuint</span>(colorRenderBuffer))</span><br><span class="line"></span><br><span class="line">       glGetRenderbufferParameteriv(<span class="type">GLenum</span>(<span class="type">GL_RENDERBUFFER</span>), <span class="type">GLenum</span>(<span class="type">GL_RENDERBUFFER_WIDTH</span>), <span class="operator">&amp;</span>width)</span><br><span class="line">       glGetRenderbufferParameteriv(<span class="type">GLenum</span>(<span class="type">GL_RENDERBUFFER</span>), <span class="type">GLenum</span>(<span class="type">GL_RENDERBUFFER_HEIGHT</span>), <span class="operator">&amp;</span>height)</span><br><span class="line"></span><br><span class="line">       <span class="comment">// glView æœ‰ä¸ª _context å±æ€§ï¼Œéœ€è¦å°†å®ƒè®¾ç½®æˆå½“å‰çš„ EAGLContextï¼Œå¹¶ä¸”æ‰§è¡Œ presentRenderbuffer æ–¹æ³•ç”¨æ¥æŠŠ CAEAGLLayer æ¸²æŸ“å‡ºæ¥</span></span><br><span class="line">       <span class="keyword">if</span> <span class="keyword">let</span> glContext <span class="operator">=</span> glView.valueForKeyPath(<span class="string">&quot;_context&quot;</span>) <span class="keyword">as?</span> <span class="type">EAGLContext</span> &#123;</span><br><span class="line">           <span class="type">EAGLContext</span>.setCurrentContext(glContext)</span><br><span class="line">           glContext.presentRenderbuffer(<span class="type">Int</span>(<span class="type">GL_RENDERBUFFER</span>)) <span class="comment">// æ˜¾ç¤ºå½“å‰ view çš„ CAEAGLLayer</span></span><br><span class="line">       &#125;</span><br><span class="line">   &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">       width <span class="operator">=</span> <span class="type">GLint</span>(glView.bounds.width <span class="operator">*</span> scale)</span><br><span class="line">       height <span class="operator">=</span> <span class="type">GLint</span>(glView.bounds.height <span class="operator">*</span> scale)</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">let</span> dataLength <span class="operator">=</span> width <span class="operator">*</span> height <span class="operator">*</span> <span class="number">4</span></span><br><span class="line">   <span class="keyword">let</span> imageBytes <span class="operator">=</span> <span class="type">UnsafeMutablePointer</span>&lt;<span class="type">GLubyte</span>&gt;.alloc(<span class="type">Int</span>(dataLength))</span><br><span class="line">   <span class="comment">// å°†å›¾åƒä¿¡æ¯å­˜å…¥å†…å­˜</span></span><br><span class="line">   glPixelStorei(<span class="type">GLenum</span>(<span class="type">GL_PACK_ALIGNMENT</span>), <span class="number">4</span>)</span><br><span class="line">   <span class="comment">// è¯»å–å›¾åƒçš„åƒç´ ä¿¡æ¯å¹¶å†™å…¥åˆ° imageBytes</span></span><br><span class="line">   glReadPixels(<span class="number">0</span>, <span class="number">0</span>, <span class="type">GLsizei</span>(width), <span class="type">GLsizei</span>(height), <span class="type">GLenum</span>(<span class="type">GL_RGBA</span>), <span class="type">GLenum</span>(<span class="type">GL_UNSIGNED_BYTE</span>), imageBytes)</span><br><span class="line"></span><br><span class="line">   <span class="keyword">let</span> data <span class="operator">=</span> <span class="type">CFDataCreate</span>(<span class="literal">nil</span>, imageBytes, <span class="type">CFIndex</span>(dataLength))</span><br><span class="line">   <span class="keyword">let</span> dataProvider <span class="operator">=</span> <span class="type">CGDataProviderCreateWithCFData</span>(data)</span><br><span class="line">   imageBytes.destroy()</span><br><span class="line">   imageBytes.dealloc(<span class="type">Int</span>(dataLength))</span><br><span class="line"></span><br><span class="line">   <span class="type">EAGLContext</span>.setCurrentContext(prevGLContext)</span><br><span class="line"></span><br><span class="line">   <span class="keyword">let</span> colorSpace <span class="operator">=</span> <span class="type">CGColorSpaceCreateDeviceRGB</span>()</span><br><span class="line">   <span class="keyword">if</span> <span class="keyword">let</span> imageRef <span class="operator">=</span> <span class="type">CGImageCreate</span>(<span class="type">Int</span>(width), <span class="type">Int</span>(height), <span class="number">8</span>, <span class="number">32</span>, <span class="type">Int</span>(width) <span class="operator">*</span> <span class="number">4</span>, colorSpace, [<span class="type">CGBitmapInfo</span>.<span class="type">ByteOrder32Big</span>, <span class="type">CGBitmapInfo</span>(rawValue: <span class="type">CGImageAlphaInfo</span>.<span class="type">PremultipliedLast</span>.rawValue)], dataProvider, <span class="literal">nil</span>, <span class="literal">true</span>, <span class="type">CGColorRenderingIntent</span>.<span class="type">RenderingIntentDefault</span>) &#123;</span><br><span class="line">       <span class="keyword">return</span> <span class="type">UIImage</span>(CGImage: imageRef, scale: scale, orientation: .<span class="type">DownMirrored</span>)</span><br><span class="line">   &#125;</span><br><span class="line">   </span><br><span class="line">   <span class="keyword">return</span> <span class="type">UIImage</span>()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;p&gt;ç”±äºä¸šåŠ¡éœ€æ±‚ï¼Œéœ€è¦å¯¹ä¸¤ä¸ªï¼ˆç°åœ¨æ˜¯ä¸‰ä¸ªäº†ï¼‰ä¸­çš„ä¸€ä¸ª OpenGL æ¸²æŸ“çš„è§†å›¾è¿›è¡Œæˆªå›¾å¹¶å¢åŠ æ¨¡ç³Šæ•ˆæœã€‚å¼€å§‹ç”¨ä¼ ç»Ÿçš„æ–¹æ³•è¿›è¡Œæˆªå›¾ï¼Œä½†æ˜¯å¤±è´¥äº†ï¼ˆæˆªå–çš„æ˜¯é»‘å±è¿˜æ˜¯ç©ºç™½ï¼Œå¿˜è®°äº†ã€‚ã€‚ã€‚ï¼‰ï¼Œåæ¥æ„è¯†åˆ°è¿™ä¸ªå’Œä¸€èˆ¬çš„è§†å›¾åº”è¯¥æ˜¯ä¸ä¸€æ ·çš„ï¼Œå°±åˆ°  Google ä¸Šæœäº†ä¸€ä¸‹ã€‚ç”±äºæ²¡æ€ä¹ˆç©è¿‡ï¼Œåˆä¸æ€ä¹ˆæ‡‚ï¼Œå°±ç›´æ¥ç¿»è¯‘æˆ &lt;code&gt;Swift&lt;/code&gt; äº†ã€‚å¼€å§‹æ˜¯æ²¡å‘ç°ä»€ä¹ˆé—®é¢˜çš„ï¼Œéƒ½æ˜¯ä½†æ˜¯åˆ°åæ¥å‘ç°æˆªå›¾æ€»æ˜¯å…¶ä¸­ä¸€ä¸ªçš„ï¼ˆçœ‹é‚£ä¸ªå…ˆå‡ºæ¥ï¼ŒåŸºæœ¬ä¸Šä¸æ˜¯æƒ³è¦çš„é‚£ä¸ªï¼‰ï¼Œè€Œä¸æ˜¯æƒ³è¦çš„é‚£ä¸ªã€‚&lt;/p&gt;
&lt;p&gt;ä»”ç»†ç ”ç©¶åå‘ç°ï¼ŒOpenGL çš„æˆªå›¾æ˜¯æ ¹æ® RenderBuffer æ¥æˆªå–çš„ï¼Œç”±äºæ²¡æœ‰æŒ‡å®š RenderBuffer æ‰€ä»¥æˆªå–çš„å›¾åªæ˜¯å…¶ä¸­æŸä¸€ä¸ªã€‚çŸ¥é“äº†è¿™ä¸ªä¹Ÿæ²¡ç”¨ï¼Œç”±äºè¿™ä¸ª View ç”¨çš„æ˜¯ç¬¬ä¸‰æ–¹åº“ï¼Œæ‰€ä»¥ä¸çŸ¥é“è¿™ä¸ª View çš„ RenderBufferã€‚ã€‚ã€‚åæœç»è¿‡ Debugï¼Œå‘ç°è¿™ä¸ª View æœ‰ä¸ª &lt;code&gt;_colorRenderBuffer&lt;/code&gt; å±æ€§ï¼Œè¿™å°±å¥½åŠå•¦~ã€‚ç»è¿‡æ”¹é€ åä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;</summary>
    
    
    
    <category term="Swift" scheme="http://firestudio.cn/categories/swift/"/>
    
    
    <category term="OpenGL" scheme="http://firestudio.cn/tags/opengl/"/>
    
    <category term="Screenshots" scheme="http://firestudio.cn/tags/screenshots/"/>
    
    <category term="EAGLView" scheme="http://firestudio.cn/tags/eaglview/"/>
    
  </entry>
  
  <entry>
    <title>ä» Octopress è¿ç§»åˆ° Hexo åçš„ä¸€äº›é—ç•™é—®é¢˜</title>
    <link href="http://firestudio.cn/2016/03/03/remaining-issues-after-migrated-from-octopress-to-hexo/"/>
    <id>http://firestudio.cn/2016/03/03/remaining-issues-after-migrated-from-octopress-to-hexo/</id>
    <published>2016-03-03T10:00:12.000Z</published>
    <updated>2019-03-27T14:23:09.917Z</updated>
    
    <content type="html"><![CDATA[<p>ä¸Šå‘¨æˆ‘è®²è‡ªå·±çš„åšå®¢ä» Octopress è¿ç§»åˆ°äº† Hexoï¼Œæ„Ÿè§‰è¿˜æ˜¯å¾ˆä¸é”™çš„ï¼Œä½†æ˜¯ç”±äºOctopress å’Œ Hexo å­˜åœ¨ä¸€äº›å·®åˆ«ï¼Œæ‰€ä»¥å¯¼è‡´äº†å¦‚ä¸‹ä¸‰ä¸ªé—®é¢˜ï¼š</p><ol><li>ä»¥å‰ Octopress çš„ç½‘å€æ˜¯åŒ…å« /blog/ çš„ï¼Œè¿ç§»ä¹‹åæ²¡äº†ï¼Œè¿™æ ·ä¼šå¯¼è‡´ç”±æœç´¢å¼•æ“ï¼ˆæœç´¢å¼•æ“æ›´æ–°è¿˜æ˜¯å¾ˆä¸åŠæ—¶çš„ï¼‰çš„é“¾æ¥å’Œå¤–ç½‘å¼•ç”¨çš„é“¾æ¥ç‚¹è¿‡æ¥ä¼šè·³åˆ°404é¡µé¢</li><li>ç”Ÿæˆçš„ç½‘å€åŒºåˆ†å¤§å°å†™äº†ï¼Œä»¥å‰å…¨éƒ¨æ˜¯å°å†™çš„ï¼Œè¿™ä¼šå¯¼è‡´ä»¥å‰çš„å°å†™é“¾æ¥æ— æ³•æ‰“å¼€ç›¸åº”çš„é¡µé¢ï¼ˆå¦‚ <code>categories/xcode</code>ï¼Œç°åœ¨æ˜¯ <code>categories/Xcode</code>ï¼‰</li><li>ä¹‹å‰çš„ä¸€äº›æ–‡ä»¶é—å¤±äº†ï¼ˆå…¶å®ä¹Ÿå°±ä¸€ä¸ªï¼‰</li></ol><p>ä»Šå¤©å°±æ¥è¯´ä¸€ä¸‹æˆ‘æ˜¯æ€ä¹ˆè§£å†³è¿™ä¸‰ä¸ªé—®é¢˜ï¼š</p><span id="more"></span><h3 id="ç¬¬ä¸€ä¸ªé—®é¢˜"><a class="markdownIt-Anchor" href="#ç¬¬ä¸€ä¸ªé—®é¢˜"></a> ç¬¬ä¸€ä¸ªé—®é¢˜</h3><p>éœ€è¦è‡ªå®šä¹‰ä¸€ä¸ª 404 é¡µé¢ï¼ˆåœ¨ <code>source</code> ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª 404 é¡µé¢_<a href="http://ibruce.info/2013/11/22/hexo-your-blog/#404%E9%A1%B5%E9%9D%A2">å‚è€ƒ</a>_ï¼‰ã€‚æœ¬æ¥æƒ³åšä¸€ä¸‹404å…¬ç›Šçš„ï¼Œä½†æ˜¯ç”±äº<a href="http://www.qq.com/404">è…¾è®¯å…¬ç›Š404</a>æ˜¯å®Œå…¨æ›¿æ¢äº†æˆ‘çš„404é¡µé¢çš„å†…å®¹ï¼Œæ— æ³•è¾¾åˆ°æˆ‘çš„æ•ˆæœï¼Œæ‰€ä»¥èˆå¼ƒäº†ï¼›<a href="http://yibo.iyiyun.com/Index/web404">404å…¬ç›Š_ç›Šäº‘(å…¬ç›Šäº’è”ç½‘)ç¤¾ä¼šåˆ›æ–°ä¸­å¿ƒ</a>å€’æ˜¯å¯ä»¥ï¼Œä½†æ˜¯åœ¨æ²¡æœ‰é€‚åº”ç§»åŠ¨è®¾å¤‡ï¼ˆå®½é«˜é™å®šæ­»äº†ï¼‰ï¼Œæ‰€ä»¥ä¹Ÿèˆå¼ƒäº†ï¼›<a href="http://404page.missingkids.org.tw/">å¤±è¹¤å…’ç«¥å°‘å¹´è³‡æ–™ç®¡ç†ä¸­å¿ƒ404</a>æ˜¯å°æ¹¾çš„ç½‘ç«™ï¼Œæ²¡æœ‰è¯•ï¼Œæ‰€ä»¥ä¹Ÿèˆå¼ƒäº†ã€‚</p><p>åˆ›å»ºå¥½é¡µé¢ä¹‹ååœ¨æ–‡ä»¶ä¸­å†™å…¥å¦‚ä¸‹å†…å®¹ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: é¡µé¢æ²¡æœ‰æ‰¾åˆ°</span><br><span class="line">description: é¡µé¢æ²¡æœ‰æ‰¾åˆ°</span><br><span class="line">comments: false # å…³é—­è¯„è®ºåŠŸèƒ½</span><br><span class="line">---</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>é¡µé¢æ²¡æœ‰æ‰¾åˆ°<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">&quot;back-link&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;/&quot;</span>&gt;</span>è¿”å›ä¸»é¡µ<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">var</span> originalLocation = <span class="built_in">window</span>.location;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">if</span> (originalLocation.pathname.indexOf(<span class="string">&#x27;/blog/&#x27;</span>) == <span class="number">0</span>) &#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> originalHref = originalLocation.href;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> pathIndex = originalHref.indexOf(location.pathname);</span></span><br><span class="line"><span class="javascript">    <span class="comment">// å› ä¸º /blog/ é•¿åº¦æ˜¯ 6ï¼Œè€Œä¸”åŒ…å«äº†ä¸¤ä¸ª /ï¼Œæ‰€ä»¥è¦å‡æ‰ä¸€ä¸ªå¸¸æ™’</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> newHref = originalHref.substr(<span class="number">0</span>, pathIndex) + originalHref.substr(pathIndex + <span class="number">5</span>)</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> liTag = <span class="built_in">document</span>.createElement(<span class="string">&#x27;li&#x27;</span>);</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> aTag = <span class="built_in">document</span>.createElement(<span class="string">&#x27;a&#x27;</span>);</span></span><br><span class="line"><span class="javascript">    aTag.setAttribute(<span class="string">&#x27;href&#x27;</span>, newHref);</span></span><br><span class="line"><span class="javascript">    aTag.text = <span class="string">&#x27;ä¹Ÿå¯èƒ½ç§»åˆ°äº†è¿™é‡Œï¼š&#x27;</span> + newHref;</span></span><br><span class="line">    liTag.appendChild(aTag);</span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> blankLink = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;back-link&#x27;</span>);</span></span><br><span class="line">    blankLink.appendChild(liTag);</span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ä¹‹åå†é‡æ–°ç”Ÿæˆå’Œå‘å¸ƒå°±å¯ä»¥äº†ã€‚</p><p>ä¸Šè¿°ä»£ç çš„ä½œç”¨å°±æ˜¯ç°å®ä¸€ä¸ªæ— åºåˆ—è¡¨ï¼Œé‡Œé¢æœ‰ä¸€æ¡â€œè¿”å›ä¸»é¡µâ€é“¾æ¥ï¼Œé€šè¿‡ js åˆ¤æ–­å½“å‰ç½‘å€çš„è·¯å¾„æ˜¯å¦ä»¥ <code>/blog/</code> å¼€å¤´ï¼Œå¦‚æœæ˜¯åˆ™åˆ›å»ºä¸€ä¸ªé“¾æ¥ï¼ŒæŠŠ <code>/blog/</code> å»æ‰å¹¶ç”Ÿæˆæ–°çš„ç½‘å€æ’å…¥åˆ°æ— åºåˆ—è¡¨ä¸­ã€‚</p><h3 id="ç¬¬äºŒä¸ªé—®é¢˜"><a class="markdownIt-Anchor" href="#ç¬¬äºŒä¸ªé—®é¢˜"></a> ç¬¬äºŒä¸ªé—®é¢˜</h3><p>é¦–å…ˆéœ€è¦æ”¹ä¸€ä¸‹é…ç½®æ–‡ä»¶</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å°†æ­¤é€‰é¡¹è®¾ç½®æˆ 1ï¼Œ è®¾ç½®æˆ 1 çš„æ„æ€æ˜¯å…¨éƒ¨è½¬æˆå°å†™</span></span><br><span class="line"><span class="attr">filename_case:</span> <span class="number">1</span></span><br></pre></td></tr></table></figure><p>å¦‚æœä¹‹å‰æœ‰éƒ¨ç½²å†ä¼ ä¸Šå»æ˜¯ä¼šæœ‰é—®é¢˜çš„ï¼Œè™½ç„¶ä¹‹å‰çš„å¤§å†™å­—æ¯ç°åœ¨å·²ç»å…¨éƒ¨æ¢æˆäº†å°å†™ï¼Œä½†æ˜¯ä¼ ä¸åˆ° <a href="https://github.com">Github</a> ä¸Šï¼Œå¯èƒ½æ˜¯ git å¿½ç•¥äº†å¤§å°å†™å§ã€‚æˆ‘çš„æ–¹æ³•æ˜¯ç›´æ¥æŠŠåŸæ¥çš„ä»“åº“åˆ æ‰é‡å»ºä¸€éï¼Œç„¶åå†ä¸Šä¼ ï¼Œåæ­£ä¹Ÿæ— æ‰€è°“ï¼ˆæœ¬åœ°è®°å¾—åˆ é™¤ <code>.deploy_git</code> ç›®å½•å’Œæ‰§è¡Œ <code>hexo clean</code> å‘½ä»¤ï¼‰ã€‚</p><h3 id="ç¬¬ä¸‰ä¸ªé—®é¢˜"><a class="markdownIt-Anchor" href="#ç¬¬ä¸‰ä¸ªé—®é¢˜"></a> ç¬¬ä¸‰ä¸ªé—®é¢˜</h3><p>è¿™ä¸ªé—®é¢˜å°±æ›´ç®€å•äº†ï¼Œç›´æ¥æ‰¾åˆ°åŸæ¥çš„ç½‘ç«™å¤‡ä»½ï¼ŒæŠŠé—å¤±çš„æ–‡ä»¶å’Œç›®å½•ä¸Šä¼ åˆ°ç›¸åº”çš„åœ°æ–¹ï¼ˆ<code>source</code> ç›®å½•ä¸‹ï¼‰å°±è¡Œäº†ã€‚</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;ä¸Šå‘¨æˆ‘è®²è‡ªå·±çš„åšå®¢ä» Octopress è¿ç§»åˆ°äº† Hexoï¼Œæ„Ÿè§‰è¿˜æ˜¯å¾ˆä¸é”™çš„ï¼Œä½†æ˜¯ç”±äºOctopress å’Œ Hexo å­˜åœ¨ä¸€äº›å·®åˆ«ï¼Œæ‰€ä»¥å¯¼è‡´äº†å¦‚ä¸‹ä¸‰ä¸ªé—®é¢˜ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä»¥å‰ Octopress çš„ç½‘å€æ˜¯åŒ…å« /blog/ çš„ï¼Œè¿ç§»ä¹‹åæ²¡äº†ï¼Œè¿™æ ·ä¼šå¯¼è‡´ç”±æœç´¢å¼•æ“ï¼ˆæœç´¢å¼•æ“æ›´æ–°è¿˜æ˜¯å¾ˆä¸åŠæ—¶çš„ï¼‰çš„é“¾æ¥å’Œå¤–ç½‘å¼•ç”¨çš„é“¾æ¥ç‚¹è¿‡æ¥ä¼šè·³åˆ°404é¡µé¢&lt;/li&gt;
&lt;li&gt;ç”Ÿæˆçš„ç½‘å€åŒºåˆ†å¤§å°å†™äº†ï¼Œä»¥å‰å…¨éƒ¨æ˜¯å°å†™çš„ï¼Œè¿™ä¼šå¯¼è‡´ä»¥å‰çš„å°å†™é“¾æ¥æ— æ³•æ‰“å¼€ç›¸åº”çš„é¡µé¢ï¼ˆå¦‚ &lt;code&gt;categories/xcode&lt;/code&gt;ï¼Œç°åœ¨æ˜¯ &lt;code&gt;categories/Xcode&lt;/code&gt;ï¼‰&lt;/li&gt;
&lt;li&gt;ä¹‹å‰çš„ä¸€äº›æ–‡ä»¶é—å¤±äº†ï¼ˆå…¶å®ä¹Ÿå°±ä¸€ä¸ªï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ä»Šå¤©å°±æ¥è¯´ä¸€ä¸‹æˆ‘æ˜¯æ€ä¹ˆè§£å†³è¿™ä¸‰ä¸ªé—®é¢˜ï¼š&lt;/p&gt;</summary>
    
    
    
    <category term="Other" scheme="http://firestudio.cn/categories/other/"/>
    
    
    <category term="Octopress" scheme="http://firestudio.cn/tags/octopress/"/>
    
    <category term="Hexo" scheme="http://firestudio.cn/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>ä» Octopress è¿ç§»åˆ° Hexo</title>
    <link href="http://firestudio.cn/2016/02/26/migrate-from-octopress-to-hexo/"/>
    <id>http://firestudio.cn/2016/02/26/migrate-from-octopress-to-hexo/</id>
    <published>2016-02-26T06:16:24.000Z</published>
    <updated>2019-04-02T17:44:25.221Z</updated>
    
    <content type="html"><![CDATA[<p>å¾ˆä¹…æ²¡å†™è¿‡æ—¥å¿—äº†ï¼ŒåŸå› æ²¡æœ‰åˆ«çš„ï¼Œå®åœ¨æ˜¯é„™äººå¤ªï¼æ‡’ï¼äº†ï¼è‡ªå·±ä¹Ÿæƒ³ä¸èƒ½ç»§ç»­æ‡’ä¸‹å»ï¼Œæ‰€ä»¥å†³å®šæ”¹å˜ä»è¿™é‡Œå¼€å§‹ï¼Œå…ˆæ¢ä¸ªé™æ€åšå®¢ç”Ÿæˆç³»ç»Ÿå§ã€‚å¥½å§~ï¼Œæ¢ç³»ç»Ÿå…¶å®å’Œè¿™ä¸ªæ²¡å¤šå¤§å…³ç³»ï¼Œä¸»è¦æ˜¯å› ä¸º Octopress å·²ç» N ä¹…æ²¡æœ‰æ›´æ–°äº†ï¼Œè¿˜æœ‰å°±æ˜¯å¯¹äºä¸€ä¸ª N ä¹…æ²¡æœ‰å†™è¿‡åšå®¢çš„äººæ¥è¯´ï¼Œå†ç”¨ <a href="http://octopress.org">Octopress</a> éœ€è¦é‡æ–°ç†Ÿæ‚‰ä¸€ä¸‹ï¼Œç›¸æ¯”ä¹‹ä¸‹ <a href="https://hexo.io">Hexo</a> å°±ç®€å•å¤šäº†ï¼Œè¿˜æœ‰å°±æ˜¯æ®è¯´ç”Ÿæˆé€Ÿåº¦ä¸Š <a href="http://octopress.org">Octopress</a> è¦æ¯” <a href="https://hexo.io">Hexo</a> æ…¢ä¸€å¤§æˆªã€‚ä¸‹é¢ä»‹ç»ä¸€ä¸‹ Mac ä¸‹ Hexo çš„å®‰è£…è¿‡ç¨‹å§~</p><span id="more"></span><h3 id="å®‰è£…-nodejs-ä¸-hexo"><a class="markdownIt-Anchor" href="#å®‰è£…-nodejs-ä¸-hexo"></a> å®‰è£… Node.js ä¸ Hexo</h3><p>å»ºè®®é€šè¿‡ <a href="http://brew.sh">Homebrew</a> å®‰è£…ï¼ŒåŸå› æ˜¯å®‰è£…ã€å‡çº§å’Œåˆ é™¤ç®€å•æ–¹ä¾¿ã€‚å½“ç„¶ä¹Ÿå¯ä»¥é€šè¿‡å®˜ç½‘çš„å®‰è£…åŒ…ï¼Œä½†æ˜¯é€šè¿‡å®‰è£…åŒ…å®‰è£…ä¼šæœ‰ä¸ªé—®é¢˜ï¼Œç”±äº <code>/usr/local/lib/dtrees</code> å’Œ <code>/usr/local/lib/node_modules</code> ç›®å½•çš„å±ä¸»æ˜¯ root:wheel è€Œä¸æ˜¯å½“å‰ç”¨æˆ·ï¼Œæ‰€ä»¥åœ¨æ‰§è¡Œ <code>npm install hexo-cli -g</code> çš„æ—¶å€™ä¼šæ— æ³•å†™å…¥ <code>/usr/local/lib/node_modules</code> è€Œå¯¼è‡´å®‰è£…å¤±è´¥ã€‚å¦‚æœç”¨äº† <code>sudo</code> ä¼šæœ‰æœ¬åœ°æ²¡æœ‰å®‰è£… <code>hexo</code> çš„é”™è¯¯ï¼Œè®©æ‰§è¡Œ <code>npm install hexo --save</code> å‘½ä»¤ï¼Œå› æ­¤ä¹Ÿæ— æ³•ä½¿ç”¨ã€‚</p><p>é€šè¿‡ä¸Šè¿°æ–¹æ³•å®‰è£…å®Œ <a href="https://nodejs.org">Node.js</a> ä¹‹åæ‰§è¡Œ <code>npm install -g hexo-cil</code> å³å¯å®Œæˆå®‰è£…ã€‚</p><h3 id="å¸¸ç”¨çš„å‘½ä»¤"><a class="markdownIt-Anchor" href="#å¸¸ç”¨çš„å‘½ä»¤"></a> å¸¸ç”¨çš„å‘½ä»¤</h3><ul><li><code>hexo init [blog directory name]</code> åˆå§‹åŒ–åšå®¢ç›®å½•ï¼Œå¦‚æœåé¢ç›®å½•åæ²¡æœ‰æŒ‡å®šåˆ™æ˜¯å½“å‰ç›®å½•</li><li><code>hexo g[enerate]</code> ç”Ÿæˆé™æ€æ–‡ä»¶</li><li><code>hexo config</code> è·å–å’Œé…ç½®ä½ çš„åšå®¢ï¼Œå¯ä»¥é€šè¿‡ <code>_config.yml</code> æ¥ç›´æ¥æ›´æ”¹é…ç½®ï¼ˆæ¨èï¼å› ä¸ºæ¯”è¾ƒç›´è§‚ï¼Œä½†æ˜¯è¦å¯¹ <a href="http://yaml.org">Yaml</a> æ ¼å¼æœ‰ä¸€å®šçš„äº†è§£ï¼Œå½“ç„¶ä¹Ÿæ˜¯éå¸¸ç®€å•çš„ï¼‰</li><li><code>hexo n[ew] &lt;[post]|page&gt; &lt;title&gt;</code> åˆ›å»ºæ–‡ç« æˆ–é¡µé¢</li><li><code>hexo s[erver]</code> å»ºç«‹å¹¶å¼€å¯æœ¬åœ°æœåŠ¡å™¨ï¼Œé»˜è®¤ç½‘å€æ˜¯ <a href="http://0.0.0.0:4000">http://0.0.0.0:4000</a></li><li><code>hexo d[eploy]</code> éƒ¨ç½²åšå®¢</li><li><code>hexo m[igrate]</code> ä»å…¶ä»–å¹³å°è¿ç§»åˆ° <a href="https://hexo.io">Hexo</a></li><li><code>hexo --help</code> æ˜¾ç¤ºå¸®åŠ©ï¼Œå¯ä»¥æŸ¥çœ‹åˆ«çš„å‘½ä»¤çš„å¸®åŠ©</li></ul><h3 id="é…ç½®"><a class="markdownIt-Anchor" href="#é…ç½®"></a> é…ç½®</h3><p><a href="https://hexo.io">Hexo</a> çš„é…ç½®ä¹Ÿæ˜¯å¾ˆç®€å•çš„ï¼Œåªéœ€è¦ç®€å•é…ç½®å¦‚ä¸‹é€‰é¡¹å³å¯ï¼ˆå…¶ä»–çš„æ ¹æ®éœ€è¦è‡ªå·±é€‰æ‹©æ€§çš„æ”¹ä¸€æ”¹å°±è¡Œäº†ï¼‰ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Siteï¼Œç½‘ç«™åŸºæœ¬ä¿¡æ¯ç›¸å…³çš„å†…å®¹</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">Fire</span> <span class="string">Studio</span></span><br><span class="line"><span class="attr">subtitle:</span> <span class="string">è®°å½•ï¼Œå­¦ä¹ ï¼Œæˆé•¿</span></span><br><span class="line"><span class="attr">description:</span> <span class="string">iOS</span> <span class="string">Developer</span></span><br><span class="line"><span class="attr">author:</span> <span class="string">Yozone</span> <span class="string">Wang</span></span><br><span class="line"><span class="attr">language:</span> <span class="string">zh-Hans</span></span><br><span class="line"><span class="attr">timezone:</span> <span class="string">Asia/Shanghai</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># URLï¼Œç½‘ç«™ç½‘å€</span></span><br><span class="line"><span class="comment">## If your site is put in a subdirectory, set url as &#x27;http://yoursite.com/child&#x27; and root as &#x27;/child/&#x27;</span></span><br><span class="line"><span class="attr">url:</span> <span class="string">http://firestudio.cn</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Extensions</span></span><br><span class="line"><span class="comment">## Plugins: https://hexo.io/plugins/</span></span><br><span class="line"><span class="comment">## Themes: https://hexo.io/themes/ ï¼Œå¯ä»¥åˆ°è¿™é‡ŒæŸ¥çœ‹å’Œä½¿ç”¨åˆ«çš„ä¸»é¢˜ï¼Œ</span></span><br><span class="line"><span class="attr">theme:</span> <span class="string">next</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Deployment éƒ¨ç½²ï¼Œæœ€ä¸»è¦çš„ï¼Œä½†æ˜¯ä¹Ÿå¾ˆç®€å•</span></span><br><span class="line"><span class="comment">## Docs: https://hexo.io/docs/deployment.html</span></span><br><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">  <span class="attr">repo:</span> <span class="string">git@github.com:azone/azone.github.io.git</span></span><br></pre></td></tr></table></figure><p>é¢„è§ˆä¹‹åæ‰å‘ç° <a href="https://hexo.io">Hexo</a> ä¸æ”¯æŒå¯¹ <a href="http://yaml.org">Yaml</a> æ ¼å¼ä»£ç çš„é«˜äº®ã€‚</p><h3 id="è¿ç§»ä¸éƒ¨ç½²"><a class="markdownIt-Anchor" href="#è¿ç§»ä¸éƒ¨ç½²"></a> è¿ç§»ä¸éƒ¨ç½²</h3><p>ç”±äºæˆ‘ä¹‹å‰ç”¨çš„æ˜¯ <a href="http://octopress.org">Octopress</a> è€Œä¸”ä»–ä»¬çš„æ ¼å¼æ˜¯ç›¸äº’å…¼å®¹çš„ï¼Œæ‰€ä»¥æœ€ç®€å•çš„åŠæ³•æ˜¯åªéœ€è¦æŠŠä¹‹å‰ <a href="http://octopress.org">Octopress</a> ä¸‹ <code>_post</code> ç›®å½•æ‹·è´åˆ° <a href="https://hexo.io">Hexo</a> å³å¯ã€‚ä½†æ˜¯æœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„ï¼Œä¸€å®šè¦å°†ä¹‹å‰çš„ <code>.markdown</code> åç¼€æ”¹æˆ <code>.md</code>ï¼Œå¦åˆ™æ–‡ç« ç”Ÿæˆçš„åœ°å€ä¼šæ˜¯ <code>/yyyy/MM/dd/yyyy-MM-dd-title</code> è€Œä¸æ˜¯ <code>/yyyy/MM/dd/title</code></p><p>å¦‚æœæ˜¯é€šè¿‡ git æˆ–è€… Github éƒ¨ç½²çš„ï¼Œåˆ™éœ€è¦é€šè¿‡<code>npm install hexo-deployer-git --save</code>å…ˆå®‰è£… hexo-deployer-git æ’ä»¶ã€‚</p><p>å½“ç„¶ä¹Ÿå¯ä»¥å®‰è£… <a href="https://hexo.io">Hexo</a> æä¾›çš„ <a href="http://hexo.io/plugins">æ’ä»¶</a> ï¼Œç„¶åé€šè¿‡ <code>hexo m[igrate] &lt;type&gt;</code> è¿ç§»ï¼Œæœ€åé€šè¿‡ <code>hexo d[eploy]</code> æ¥éƒ¨ç½²ã€‚</p><h3 id="æˆ‘å®‰è£…çš„å‡ ä¸ªæ’ä»¶"><a class="markdownIt-Anchor" href="#æˆ‘å®‰è£…çš„å‡ ä¸ªæ’ä»¶"></a> æˆ‘å®‰è£…çš„å‡ ä¸ªæ’ä»¶</h3><p>ç”±äºä»Šå¤©æ‰å¼€å§‹éƒ¨ç½² <a href="https://hexo.io">Hexo</a>ï¼Œæ‰€ä»¥å¯¹ <a href="https://hexo.io">Hexo</a> çš„æ’ä»¶äº†è§£çš„ä¹Ÿä¸æ˜¯å¤ªå¤šï¼Œåªè£…äº†å‡ ä¸ªï¼š</p><ul><li><a href="https://github.com/hexojs/hexo-deployer-git">hexo-deployer-git</a>ï¼Œé€šè¿‡ <a href="http://git-scm.com">GIT</a> éƒ¨ç½²åšå®¢</li><li><a href="https://github.com/hexojs/hexo-generator-feed">hexo-generator-feed</a>ï¼Œç”Ÿæˆè®¢é˜…</li><li><a href="https://github.com/hexojs/hexo-generator-category">hexo-generator-category</a>ï¼Œç”Ÿæˆåˆ†ç±»</li><li><a href="https://github.com/hexojs/hexo-generator-sitemap">hexo-generator-sitemap</a>ï¼Œç”Ÿæˆç½‘ç«™åœ°å›¾</li><li><a href="https://github.com/JamesPan/hexo-ruby-character">hexo-ruby-character</a>ï¼Œ<ruby>ä¸ºäº†å¥½ç©<rp> (</rp><rt>wÃ¨i le hÇo wÃ¡n</rt><rp>) </rp></ruby>è£…äº†è¿™ä¸ªæ’ä»¶ğŸ˜„</li><li><s><a href="https://github.com/akfish/hexo-math">hexo-math</a> æ˜¾ç¤ºæ•°å­¦æ–¹ç¨‹å¼å’Œç¬¦å·ç­‰</s> (å·²ä½¿ç”¨ä¸»é¢˜è‡ªå¸¦åŠŸèƒ½) $$\sum_{i=1}^n$$</li></ul><h3 id="æ€»ç»“"><a class="markdownIt-Anchor" href="#æ€»ç»“"></a> æ€»ç»“</h3><p>è¯¥è¯´çš„ä¸Šé¢å·²ç»è¯´äº†ï¼Œæ€»çš„æ¥è¯´è¿˜æ˜¯å¾ˆæ£’çš„ã€‚æœ€åå†³å®šæŠŠè¯„è®ºç³»ç»Ÿä» <a href="https://disqus.com">Disqus</a> è¿ç§»åˆ°<a href="http://duoshuo.com">å¤šè¯´</a>ï¼Œæ¯•ç«Ÿå¤šè¯´æ˜¯å›½å†…çš„ï¼Œé€Ÿåº¦åº”è¯¥ä¼šå¿«å¾ˆå¤šï¼ŒDisqus è¯´ä¸å®šå“ªå¤©å°±è¢«å¢™äº†ã€‚ç”±äºè¯„è®ºå†…å®¹å‰ä¸€èµ·æ¥éå¸¸éº»çƒ¦ï¼Œè€Œä¸”è¯„è®ºå†…å®¹éå¸¸å°‘ï¼Œæ‰€ä»¥å†³å®šè¯„è®ºå†…å®¹å°±ä¸è¿ç§»äº†ã€‚ä¸è¯´äº†ï¼Œèµ°èµ·~</p><hr /><p><em>æ³¨æ„ï¼šæ–‡ç« ä¸­æ–¹æ‹¬å·ä¸­æ‹¬èµ·æ¥çš„éƒ¨åˆ†ä¸ºå¯é€‰éƒ¨åˆ†</em></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;å¾ˆä¹…æ²¡å†™è¿‡æ—¥å¿—äº†ï¼ŒåŸå› æ²¡æœ‰åˆ«çš„ï¼Œå®åœ¨æ˜¯é„™äººå¤ªï¼æ‡’ï¼äº†ï¼è‡ªå·±ä¹Ÿæƒ³ä¸èƒ½ç»§ç»­æ‡’ä¸‹å»ï¼Œæ‰€ä»¥å†³å®šæ”¹å˜ä»è¿™é‡Œå¼€å§‹ï¼Œå…ˆæ¢ä¸ªé™æ€åšå®¢ç”Ÿæˆç³»ç»Ÿå§ã€‚å¥½å§~ï¼Œæ¢ç³»ç»Ÿå…¶å®å’Œè¿™ä¸ªæ²¡å¤šå¤§å…³ç³»ï¼Œä¸»è¦æ˜¯å› ä¸º Octopress å·²ç» N ä¹…æ²¡æœ‰æ›´æ–°äº†ï¼Œè¿˜æœ‰å°±æ˜¯å¯¹äºä¸€ä¸ª N ä¹…æ²¡æœ‰å†™è¿‡åšå®¢çš„äººæ¥è¯´ï¼Œå†ç”¨ &lt;a href=&quot;http://octopress.org&quot;&gt;Octopress&lt;/a&gt; éœ€è¦é‡æ–°ç†Ÿæ‚‰ä¸€ä¸‹ï¼Œç›¸æ¯”ä¹‹ä¸‹ &lt;a href=&quot;https://hexo.io&quot;&gt;Hexo&lt;/a&gt; å°±ç®€å•å¤šäº†ï¼Œè¿˜æœ‰å°±æ˜¯æ®è¯´ç”Ÿæˆé€Ÿåº¦ä¸Š &lt;a href=&quot;http://octopress.org&quot;&gt;Octopress&lt;/a&gt; è¦æ¯” &lt;a href=&quot;https://hexo.io&quot;&gt;Hexo&lt;/a&gt; æ…¢ä¸€å¤§æˆªã€‚ä¸‹é¢ä»‹ç»ä¸€ä¸‹ Mac ä¸‹ Hexo çš„å®‰è£…è¿‡ç¨‹å§~&lt;/p&gt;</summary>
    
    
    
    <category term="Other" scheme="http://firestudio.cn/categories/other/"/>
    
    
    <category term="Octopress" scheme="http://firestudio.cn/tags/octopress/"/>
    
    <category term="Hexo" scheme="http://firestudio.cn/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>å¦‚ä½•è¿ç”¨æ›´èªæ˜çš„åŠæ³•è¿›è¡ŒCore Dataæ•°æ®è¿ç§»</title>
    <link href="http://firestudio.cn/2014/04/04/how-to-make-core-data-migration-smarter/"/>
    <id>http://firestudio.cn/2014/04/04/how-to-make-core-data-migration-smarter/</id>
    <published>2014-04-04T14:49:25.000Z</published>
    <updated>2019-03-27T14:23:09.916Z</updated>
    
    <content type="html"><![CDATA[<p>è¿™ä¸€æ®µæ—¶é—´ä¸€ä¸ªCore Dataæ•°æ®è¿ç§»çš„é—®é¢˜å¿«æŠŠæˆ‘ææ­»äº†ï¼Œä¸Šé¢ç»™çš„å‹åŠ›ä¹Ÿéå¸¸å¤§ã€‚å…ˆè¯´ä¸€ä¸‹æ¥é¾™å»è„‰å§~</p><h2 id="ç¬¬ä¸€æ¬¡çŠ¯é”™"><a class="markdownIt-Anchor" href="#ç¬¬ä¸€æ¬¡çŠ¯é”™"></a> ç¬¬ä¸€æ¬¡çŠ¯é”™</h2><p>é¦–å…ˆä»¥æˆ‘ä¸ºä¸»ç¨‹çš„ä¸€ä¸ªåº”ç”¨ï¼ˆç»å¤§éƒ¨åˆ†ä»£ç æ˜¯æˆ‘å†™çš„ï¼‰ç”±äºä¹‹å‰æ•°æ®åº“è®¾è®¡çš„ä¸åˆç†å¯¼è‡´åº”ç”¨æ€»æ˜¯æ— è§„å¾‹å¯å¾ªçš„å´©æºƒã€‚è¿™ä¸ªé—®é¢˜ä¸€ç›´å­˜åœ¨äº†å¥½å‡ ä¸ªæœˆï¼Œæ€ä¹ˆç ”ç©¶éƒ½æ˜¯æ— æœã€‚åæ¥ç›´åˆ°çœ‹åˆ°Stack Overflowä¸Š<a href="http://stackoverflow.com/a/20446844/397718">Core Data: EXC_BAD_ACCESS accessing relationship</a>çš„å¸–å­ï¼ˆåæ¥è¿˜çœ‹åˆ°è¿™ä¸ª<a href="http://stackoverflow.com/a/6327448/">Semantic Issue: Propertyâ€™s synthesized getter follows Cocoa naming convention for returning â€˜ownedâ€™ objects</a>ï¼‰æ‰æ„è¯†åˆ°è‡ªå·±çš„æ„šè ¢å’Œæ— çŸ¥ï¼æˆ‘å¿˜è®°äº†Objective-Cçš„å±æ€§åï¼ˆCore Dataä¸­åŒ…æ‹¬å±æ€§åå’Œå…³ç³»åï¼‰ä¸èƒ½ä»¥newæ‰“å¤´ï¼Œå¦åˆ™å°±è¿åäº†Objective-Cçš„<a href="https://developer.apple.com/library/ios/documentation/Cocoa/Conceptual/MemoryMgmt/Articles/mmRules.html">å†…å­˜ç®¡ç†ç­–ç•¥</a>ã€‚</p><p><strong>è¯·è®°ä½ï¼šå°½é‡ä¸è¦ä½¿ç”¨ä»¥allocã€newã€copyå’ŒmutableCopyç­‰æ‰“å¤´çš„å±æ€§åã€å…³ç³»åå’Œæ–¹æ³•åï¼Œå¦‚æœå¿…é¡»ä½¿ç”¨è¯·åœ¨å£°æ˜ä¸­ä½¿ç”¨<code>NS_RETURNS_RETAINED</code>æˆ–<code>NS_RETURNS_NOT_RETURNED</code>ï¼Œå¦åˆ™ä¼šå¯¼è‡´å†…å­˜ç®¡ç†é—®é¢˜ï¼ï¼ï¼</strong></p><span id="more"></span><h2 id="ç¬¬äºŒæ¬¡çŠ¯é”™"><a class="markdownIt-Anchor" href="#ç¬¬äºŒæ¬¡çŠ¯é”™"></a> ç¬¬äºŒæ¬¡çŠ¯é”™</h2><p>æ—¢ç„¶çŸ¥é“äº†é”™äº†é‚£å°±æ”¹å§ï¼äºæ˜¯å°±å¯¹Core Dataçš„å­—æ®µè¿›è¡Œä¿®æ”¹ã€‚ä¹‹å‰åªæ˜¯å¤§è‡´äº†è§£è¿‡Core Dataæ•°æ®åº“è¿ç§»çš„åŸºæœ¬çŸ¥è¯†ï¼Œä¹‹å‰ä¹Ÿåšè¿‡ä¸€äº›ï¼ˆåªä¸è¿‡ä¹‹å‰éƒ½æ˜¯è½»é‡çº§è¿ç§»ï¼‰ã€‚ç›´åˆ°è¿™æ¬¡æ”¹å…³ç³»åæ˜¯ä¸ªé‡é‡çº§çš„è¿ç§»ï¼Œæ‰€ä»¥å°±ä»¥æˆ‘è‡ªå·±çš„ç†è§£åšäº†ä¸ªmapping modelã€‚ç»“æœæŠŠ<code>Relationship Mappings</code>ä¸­çš„<code>Mapping Name</code>ç»™æé”™äº†ï¼Œææˆå®ƒè‡ªå·±äº†~ã€‚æœ€ç»ˆå¯¼è‡´åº”ç”¨ä¸Šæ¶åå‡çº§ç”¨æˆ·å¤§é¢ç§¯å´©æºƒï¼Œåæœå¾ˆä¸¥é‡ï¼Œè€æ¿å’Œé¢†å¯¼å¾ˆç”Ÿæ°”ã€‚åæ¥åº”ç”¨ç›´æ¥ä¸‹æ¶äº†ï¼Œæ®è¯´å…¬å¸æŸå¤±ä¸¥é‡ï¼Œè¿˜è¯´å¼€å‘çš„èƒ½åŠ›ä¸è¡Œï¼Œç»™æˆ‘åˆ¶é€ äº†ä¸å°‘å‹åŠ›ã€‚</p><h2 id="ç¬¬ä¸‰æ¬¡çŠ¯é”™"><a class="markdownIt-Anchor" href="#ç¬¬ä¸‰æ¬¡çŠ¯é”™"></a> ç¬¬ä¸‰æ¬¡çŠ¯é”™</h2><p>æ—¢ç„¶æœ‰çŸ¥é“åŸå› äº†é‚£å°±åŠæ—¶æ”¹æ­£å§~ï¼Œæ›´æ­£äº†<code>Relationship Mappings</code>ä¸­çš„<code>Mapping Name</code>ï¼Œç„¶åç»è¿‡ç²—ç•¥çš„æµ‹è¯•ç´§æ€¥ä¸Šæ¶ã€‚è¿™æ¬¡èµ°äº†è‹¹æœçš„åŠ æ€¥é€šé“ï¼Œä¸Šæ¶é€Ÿåº¦æœç„¶å¾ˆå¿«~ï¼Œä½†æ˜¯ç¬¬äºŒå¤©åˆæœ‰å¾ˆå¤šäººåé¦ˆå´©æºƒé—®é¢˜ï¼Œçœ‹äº†Crashlyticsçš„åå°ï¼Œå‘ç°å…¨æ˜¯iOS 6åŠä»¥ä¸‹çš„è®¾å¤‡ã€‚æœ€ç»ˆç ”ç©¶åå‘ç°å½“ç”¨æˆ·æœ¬åœ°æ•°æ®åº“æ•°æ®é‡æ¯”è¾ƒå¤§çš„æ—¶å€™è€ç‰ˆæœ¬å‡ä¸Šæ¥å¾ˆå¤šéƒ½ä¼šå´©æºƒï¼ˆæ€§èƒ½å¥½ä¸€ç‚¹æœºå™¨çš„å‡ ç‡æ¯”è¾ƒå°ï¼‰ï¼Œåæ¥æ‰¾åˆ°åŸå› äº†ï¼Œæˆ‘åˆçŠ¯äº†ä¸€ä¸ªä½çº§çš„é”™è¯¯ï¼å½“æ—¶æ²¡è€ƒè™‘åˆ°å¾ˆå¤šäººæ•°æ®é‡æ¯”è¾ƒå¤§ï¼Œæ²¡ä¸æ¸…æ¥šCore Dataè¿›è¡Œé‡é‡çº§è¿ç§»çš„æ—¶å€™éœ€è¦è€—è´¹å¾ˆä¹…çš„æ—¶é—´ã€‚æˆ‘æŠŠCore Dataçš„è‡ªåŠ¨è¿ç§»æ”¾åˆ°äº†åº”ç”¨çš„å…¥å£å‡½æ•°ï¼Œé˜»ç¢äº†å…¥å£å‡½æ•°çš„è¿”å›ï¼Œå¯¼è‡´åº”ç”¨å¯åŠ¨æ—¶é—´è¿‡é•¿ç›´æ¥è¢«ç³»ç»Ÿå’”åš“æ‰äº†ï¼Œä¹Ÿæœ‰ä¸€éƒ¨åˆ†ç”¨æˆ·ç”±äºè¿ç§»å¤±è´¥å¯¼è‡´æ•°æ®åº“æ•°æ®æ®‹ç¼ºå¯¼è‡´çš„å´©æºƒã€‚</p><h2 id="æ·±å…¥çš„ç ”ç©¶"><a class="markdownIt-Anchor" href="#æ·±å…¥çš„ç ”ç©¶"></a> æ·±å…¥çš„ç ”ç©¶</h2><p>ä»¥å‰ä¹°è¿‡ä¸€æœ¬Marcus S. Zarraçš„ä¹¦<a href="http://pragprog.com/book/mzcd2/core-data">Core Data (2nd edition): Data Storage and Management for iOS, OS X, and iCloud</a>ï¼Œåªæ˜¯çœ‹äº†éƒ¨åˆ†å†…å®¹è€Œä¸”Core Dataæ•°æ®è¿ç§»è¿™ä¸€å—æ²¡æ€ä¹ˆçœ‹ã€‚è¿™æ¬¡ç¿»æ¥è‡ªå·±çœ‹äº†ä¸€ä¸‹ï¼Œå¯¹ä¸€äº›æ¦‚å¿µææ¸…æ¥šäº†ï¼Œåæ¥æœ‰çœ‹åˆ°<a href="http://objc.io">objc.io</a>ä¸Šçš„<a href="http://www.objc.io/issue-4/core-data-migration.html">Custom Core Data Migrations</a>ï¼ˆé‡Œé¢ä¹Ÿå¼•ç”¨åˆ°äº†ä¸€éƒ¨åˆ†<a href="http://pragprog.com/book/mzcd2/core-data">Core Data (2nd edition): Data Storage and Management for iOS, OS X, and iCloud</a>ä¸­çš„ä»£ç ï¼‰å’Œ <a href="https://github.com/hwaxxer/BookMigration">BookMigration</a>å®ä¾‹ã€‚éƒ½è®²åˆ°äº†Progressive Migrationsï¼Œæçš„æˆ‘ä¹Ÿæƒ³å°è¯•ä¸€ä¸‹æ‰‹åŠ¨çš„æ•°æ®è¿ç§»ã€‚äºæ˜¯æœ‰æœç´¢äº†Googleã€StackOverflowå’Œè‹¹æœæ–‡æ¡£ç­‰ï¼Œæœ€åå‘ç°mapping modelæ˜¯å¯ä»¥æ‹†åˆ†çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸€æ¬¡å‡çº§å¯ä»¥æ‹†åˆ†æˆå¤šä¸ªmapping model(<strong>æ¯ä¸ªmapping modelä¸èƒ½å’Œå¦å¤–çš„mapping modelæœ‰ä»»ä½•å…³ç³»ï¼Œé€»è¾‘ä¸Šè¦æ˜¯ç‹¬ç«‹çš„</strong>)ï¼Œè¿™æ ·å¯ä»¥å‡å°‘å†…å­˜å¼€æ”¯ã€‚åœ¨<a href="https://github.com/hwaxxer/BookMigration">BookMigration</a>ä¸­åˆå‘ç°NSMigrationManageræœ‰ä¸€ä¸ªmigrationProgresså±æ€§ï¼Œç”¨æ¥è·å–å½“å‰è¿ç§»è¿›åº¦ï¼Œæ„Ÿè§‰çœŸæ˜¯å¤ªæ£’äº†ï¼Œä¸ç”¨ä¸€ç›´åœ¨é‚£é‡Œè½¬èŠèŠ±äº†ã€‚ã€‚ã€‚</p><p>ç»è¿‡æˆ‘è‡ªå·±çš„æ·±å…¥ç ”ç©¶ï¼ˆå®è·µï¼‰å‘ç°<code>+[NSMappingModel mappingModelFromBundles:forSourceModel:destinationModel:]</code>ä¸æ˜¯çœŸæ­£çš„é source modelå’Œdestination modelæ¥åŒ¹é…çš„ï¼Œè€Œæ˜¯é€šè¿‡mapping modelä¸source modelè¿˜æœ‰destination modelçš„entity version hashesæ¥è¿›è¡Œå¯¹æ¯”çš„ï¼Œè€Œä¸”å®ƒä¹Ÿåªè¿”å›ä¸€ä¸ªmapping modelï¼Œå¦‚æœæ‹†åˆ†æˆå¤šä¸ªmapping modelçš„è¯å°±æ— æ³•æ‰¾åˆ°å…¶ä»–çš„äº†ã€‚è€Œ<code>+[NSManagedObjectModel mergedModelFromBundles:forStoreMetadata:]</code>ä¹Ÿä¸æ˜¯æ‰¾å‡ºä¸‹ä¸€ä¸ªç‰ˆæœ¬çš„modelï¼Œè€Œæ˜¯å¦‚æœå‘ç°æœ‰<code>+[NSMappingModel mappingModelFromBundles:forSourceModel:destinationModel:]</code>å’Œå½“å‰ï¼ˆsourceï¼‰modelåŒ¹é…çš„è¯å°±ä¼šè¿”å›é‚£ä¸ªmodelã€‚</p><h2 id="è¿›è¡Œæ”¹è¿›"><a class="markdownIt-Anchor" href="#è¿›è¡Œæ”¹è¿›"></a> è¿›è¡Œæ”¹è¿›</h2><p>åæ¥æˆ‘æƒ³åˆ°äº†ä¸€ä¸ªç»ä½³çš„è¿ç§»Core Dataæ•°æ®åº“çš„æ–¹æ³•ï¼šå¦‚æœæ˜¯è½»é‡çº§è¿ç§»åˆ™ç”¨è½»é‡çº§è¿ç§»ï¼Œå¦åˆ™è¿›è¡Œé‡é‡çº§è¿ç§»çš„é€æ­¥è¿ç§»æ–¹æ³•ï¼Œè¿™æ ·å°±å¯ä»¥ç”¨æå°‘çš„mapping modelåšå¤§è·¨åº¦çš„ç‰ˆæœ¬è¿ç§»äº†ã€‚æ‘¸æ¸…äº†è¿™äº›å°±å¯ä»¥å¯¹ä¸Šè¿°çš„å®ä¾‹è¿›è¡Œä¸€äº›æ”¹é€ äº†</p><ol><li>é¦–å…ˆå°†åŸæ¥çš„ä¸€ä¸ªmapping modelåˆ†æˆä¸¤ä¸ªï¼ˆè¿™ä¸¤ä¸ªåœ¨é€»è¾‘ä¸Šæ˜¯ç›¸äº’ç‹¬ç«‹çš„ï¼‰ï¼›</li><li>å°†æ¯ä¸ªCore Dataçš„modelæ–‡ä»¶æŒ‰ç…§ç‰ˆæœ¬è¿›è¡Œ1ã€2ã€3ã€4ç­‰è¿›è¡Œæ ‡ç¤ºï¼ˆ1è¡¨ç¤ºç¬¬ä¸€ä¸ªç‰ˆæœ¬ï¼Œ2è¡¨ç¤ºç¬¬äºŒä¸ªç‰ˆæœ¬â€¦â€¦ï¼‰ï¼Œè¿™æ ·åšçš„ç›®çš„æ˜¯æ–¹ä¾¿ç”±sourceï¼ˆå½“å‰çš„ï¼‰ modelæ‰¾åˆ°å…¶ä¸‹ä¸€ä¸ªç‰ˆæœ¬çš„modelï¼›<br /><img src="https://farm4.staticflickr.com/3792/13716379303_bd0a494373_o_d.png" alt="version identivers" /></li><li>é€šè¿‡å½“å‰çš„modelæ‰¾åˆ°ä¸‹ä¸€ä¸ªç‰ˆæœ¬çš„modelï¼›</li><li>æ‰¾åˆ°æ‰€æœ‰çš„mapping modelï¼šéå†bundleä¸­çš„æ¯ä¸€ä¸ªcdmæ–‡ä»¶ï¼ˆmapping modelçš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼‰å¹¶é€šè¿‡<code>-[NSMappingModel initWithContentsOfURL:]</code>ç”ŸæˆNSMappingModelå¯¹è±¡,å°†source modelä¸destination modelçš„entity version hashesä¸mapping modelçš„<code>sourceEntityVersionHash</code>å’Œ<code>destinationEntityVersionHash</code>è¿›è¡Œå¯¹æ¯”ã€‚å¦‚æœmapping modelç­‰äºæˆ–æ˜¯source modelå’Œdestinationçš„å­é›†åˆ™è¯´æ˜è¿™ä¸ªmapping modelæ˜¯å‡çº§åˆ°ä¸‹ä¸€ä¸ªç‰ˆæœ¬çš„mapping model</li><li>å¦‚æœæ‰¾åˆ°çš„æ‰€æœ‰mapping modelçš„<code>sourceEntityVersionHash</code>ä¸<code>destinationEntityVersionHash</code>äº¤é›†ç­‰äºsource modelä¸destination modelçš„entity version hashesåˆ™è¯´æ˜è¿™æ˜¯ä¸ªé‡é‡çº§çš„è¿ç§»ï¼Œå¦åˆ™è¯´æ˜å‡ºè½»é‡çº§è¿ç§»ã€‚</li></ol><p>å…·ä½“æ–¹æ³•è¯·å‚è§ï¼š<a href="https://github.com/azone/WYZCoreDataMigrationManager">WYZCoreDataMigrationManager</a>ï¼Œè§‰å¾—è¿˜æ˜¯æœ‰ä¸€äº›åœ°æ–¹éœ€è¦æ”¹è¿›çš„ï¼Œåªèƒ½ç­‰åé¢æœ‰æœºä¼šå†æ”¹è¿›äº†ã€‚</p><p>å¦å¤–è¿˜éœ€è¦ä¸€äº›å€¼å¾—æ³¨æ„çš„åœ°æ–¹ï¼Œæ¯”å¦‚å¦‚æœä¹‹å‰çš„Core Dataçš„journal_modeæ˜¯WALï¼Œè¿ç§»çš„æ—¶å€™ä¹Ÿè¦å§shmæ–‡ä»¶å’Œwalæ–‡ä»¶ä¸€å—è¿ç§»ï¼Œå¦åˆ™å¯èƒ½ä¼šå¯¼è‡´æ•°æ®ä¼šä¹±ï¼›æœ‰æ—¶å€™éœ€è¦è‡ªå·±å®šä¹‰Migration Policyç­‰ï¼Œæˆ‘åœ¨è¿™é‡Œå°±ä¸å¤šè¯´äº†ï¼Œå®é™…æƒ…å†µè¿˜æ˜¯éœ€æœ‰å…·ä½“é—®é¢˜å…·ä½“å¯¹å¾…ã€‚</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;è¿™ä¸€æ®µæ—¶é—´ä¸€ä¸ªCore Dataæ•°æ®è¿ç§»çš„é—®é¢˜å¿«æŠŠæˆ‘ææ­»äº†ï¼Œä¸Šé¢ç»™çš„å‹åŠ›ä¹Ÿéå¸¸å¤§ã€‚å…ˆè¯´ä¸€ä¸‹æ¥é¾™å»è„‰å§~&lt;/p&gt;
&lt;h2 id=&quot;ç¬¬ä¸€æ¬¡çŠ¯é”™&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#ç¬¬ä¸€æ¬¡çŠ¯é”™&quot;&gt;&lt;/a&gt; ç¬¬ä¸€æ¬¡çŠ¯é”™&lt;/h2&gt;
&lt;p&gt;é¦–å…ˆä»¥æˆ‘ä¸ºä¸»ç¨‹çš„ä¸€ä¸ªåº”ç”¨ï¼ˆç»å¤§éƒ¨åˆ†ä»£ç æ˜¯æˆ‘å†™çš„ï¼‰ç”±äºä¹‹å‰æ•°æ®åº“è®¾è®¡çš„ä¸åˆç†å¯¼è‡´åº”ç”¨æ€»æ˜¯æ— è§„å¾‹å¯å¾ªçš„å´©æºƒã€‚è¿™ä¸ªé—®é¢˜ä¸€ç›´å­˜åœ¨äº†å¥½å‡ ä¸ªæœˆï¼Œæ€ä¹ˆç ”ç©¶éƒ½æ˜¯æ— æœã€‚åæ¥ç›´åˆ°çœ‹åˆ°Stack Overflowä¸Š&lt;a href=&quot;http://stackoverflow.com/a/20446844/397718&quot;&gt;Core Data: EXC_BAD_ACCESS accessing relationship&lt;/a&gt;çš„å¸–å­ï¼ˆåæ¥è¿˜çœ‹åˆ°è¿™ä¸ª&lt;a href=&quot;http://stackoverflow.com/a/6327448/&quot;&gt;Semantic Issue: Propertyâ€™s synthesized getter follows Cocoa naming convention for returning â€˜ownedâ€™ objects&lt;/a&gt;ï¼‰æ‰æ„è¯†åˆ°è‡ªå·±çš„æ„šè ¢å’Œæ— çŸ¥ï¼æˆ‘å¿˜è®°äº†Objective-Cçš„å±æ€§åï¼ˆCore Dataä¸­åŒ…æ‹¬å±æ€§åå’Œå…³ç³»åï¼‰ä¸èƒ½ä»¥newæ‰“å¤´ï¼Œå¦åˆ™å°±è¿åäº†Objective-Cçš„&lt;a href=&quot;https://developer.apple.com/library/ios/documentation/Cocoa/Conceptual/MemoryMgmt/Articles/mmRules.html&quot;&gt;å†…å­˜ç®¡ç†ç­–ç•¥&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;è¯·è®°ä½ï¼šå°½é‡ä¸è¦ä½¿ç”¨ä»¥allocã€newã€copyå’ŒmutableCopyç­‰æ‰“å¤´çš„å±æ€§åã€å…³ç³»åå’Œæ–¹æ³•åï¼Œå¦‚æœå¿…é¡»ä½¿ç”¨è¯·åœ¨å£°æ˜ä¸­ä½¿ç”¨&lt;code&gt;NS_RETURNS_RETAINED&lt;/code&gt;æˆ–&lt;code&gt;NS_RETURNS_NOT_RETURNED&lt;/code&gt;ï¼Œå¦åˆ™ä¼šå¯¼è‡´å†…å­˜ç®¡ç†é—®é¢˜ï¼ï¼ï¼&lt;/strong&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="iOS" scheme="http://firestudio.cn/categories/ios/"/>
    
    <category term="Core Data" scheme="http://firestudio.cn/categories/ios/core-data/"/>
    
    
  </entry>
  
  <entry>
    <title>iOSä¸‹å¦‚ä½•æ’­æ”¾GIFåŠ¨ç”»</title>
    <link href="http://firestudio.cn/2014/01/17/iosxia-ru-he-bo-fang-gifdong-hua/"/>
    <id>http://firestudio.cn/2014/01/17/iosxia-ru-he-bo-fang-gifdong-hua/</id>
    <published>2014-01-17T14:19:39.000Z</published>
    <updated>2019-03-27T14:23:09.916Z</updated>
    
    <content type="html"><![CDATA[<p>å‡ ä¸ªæœˆå‰æ— æ„ä¸­çœ‹åˆ°<a href="http://stackoverflow.com">StackOverFlow</a>ä¸Šçš„ä¸€ä¸ªå¸–å­<a href="http://stackoverflow.com/questions/14458299/how-to-get-suitable-cgimage-from-combined-tiff-for-display-scale">How to get suitable CGImage from combined TIFF for display scale</a>äº†è§£åˆ°äº†<a href="https://developer.apple.com/library/ios/documentation/graphicsimaging/Reference/ImageIORefCollection/_index.html">ImageIO</a>è¿™ä¸ªæ¡†æ¶ï¼Œçœ‹åˆ°å®ƒå¯ä»¥è¯»å–<a href="http://en.wikipedia.org/wiki/Tagged_Image_File_Format">TIFF</a>ä¸­çš„å•å¼ å›¾ç‰‡ï¼Œå½“æ—¶å°±æƒ³èƒ½ä¸èƒ½è¯»å–<a href="http://en.wikipedia.org/wiki/GIF">GIF</a>ä¸­çš„å›¾ç‰‡å‘¢ï¼Ÿåæ¥è¿›ä¸€æ­¥ç ”ç©¶åå‘ç°ç­”æ¡ˆæ˜¯è‚¯å®šçš„ã€‚åæ¥å°±æƒ³å“ªå¤©ç»†ç ”ç©¶ä¸€ä¸‹å§ï¼Œé¡ºä¾¿å†™ç¯‡åšå®¢è®°å½•ä¸€ä¸‹ã€‚æ²¡æƒ³åˆ°æˆ‘æ˜¯è¿™ä¹ˆçš„æ‡’~ï¼Œæ˜¨å¤©æ‰ç»ˆäºç ”ç©¶å¥½äº†é¡ºä¾¿å†™äº†ä¸ªé¡¹ç›®<a href="https://github.com/azone/WYZGIFAnimationView">WYZGIFAnimationView</a>å¼€æºåˆ°äº†<a href="https://github.com">Github</a>ä¸Šã€‚</p><span id="more"></span><p><a href="http://en.wikipedia.org/wiki/GIF">GIF</a>åŠ¨ç”»å¤§å®¶åº”è¯¥éƒ½çŸ¥é“ï¼Œä½†æ˜¯åœ¨iOSä¸­å´ä¸èƒ½ç›´æ¥æ’­æ”¾å®ƒï¼Œåªèƒ½æ˜¾ç¤ºå®ƒçš„ç¬¬ä¸€å¸§ç”»é¢ã€‚iOSä¸­å¯ä»¥ä½¿ç”¨<a href="https://developer.apple.com/library/ios/documentation/uikit/reference/UIImageView_Class/Reference/Reference.html">UIImageView</a>å¹¶é€šè¿‡å…¶<a href="https://developer.apple.com/library/ios/documentation/uikit/reference/UIImageView_Class/Reference/Reference.html#//apple_ref/occ/instp/UIImageView/animationImages">animationImages</a>ã€<a href="https://developer.apple.com/library/ios/documentation/uikit/reference/UIImageView_Class/Reference/Reference.html#//apple_ref/occ/instp/UIImageView/animationDuration">animationDuration</a>å’Œ<a href="https://developer.apple.com/library/ios/documentation/uikit/reference/UIImageView_Class/Reference/Reference.html#//apple_ref/occ/instp/UIImageView/animationRepeatCount">animationRepeatCount</a>ç­‰å±æ€§æ¥æ’­æ”¾è¿ç»­å›¾ç‰‡çš„åŠ¨ç”»ã€‚<a href="https://developer.apple.com/library/ios/documentation/uikit/reference/UIImage_Class/Reference/Reference.html">UIImage</a>åœ¨iOS 5.0ä¹‹åå¢åŠ äº†<a href="https://developer.apple.com/library/ios/documentation/uikit/reference/UIImage_Class/Reference/Reference.html#//apple_ref/occ/clm/UIImage/animatedImageNamed:duration:">+ animatedImageNamed:duration:</a>å’Œ<a href="https://developer.apple.com/library/ios/documentation/uikit/reference/UIImage_Class/Reference/Reference.html#//apple_ref/occ/clm/UIImage/animatedImageWithImages:duration:">+ UIImage animatedImageWithImages:duration:</a>ç­‰æ–¹æ³•ï¼Œé€šè¿‡è¿™äº›æ–¹æ³•åˆ›å»ºçš„<a href="https://developer.apple.com/library/ios/documentation/uikit/reference/UIImage_Class/Reference/Reference.html">UIImage</a>å¯¹è±¡èµ‹å€¼ç»™<a href="https://developer.apple.com/library/ios/documentation/uikit/reference/UIImageView_Class/Reference/Reference.html">UIImageView</a>çš„<a href="https://developer.apple.com/library/ios/documentation/uikit/reference/UIImageView_Class/Reference/Reference.html#//apple_ref/occ/instp/UIImageView/image">image</a>å±æ€§ï¼ŒåŒæ ·ä¹Ÿå¯ä»¥æ’­æ”¾åŠ¨ç”»ã€‚</p><p>æˆ‘ä»¬å¦‚æœæƒ³æ’­æ”¾<a href="http://en.wikipedia.org/wiki/GIF">GIF</a>åŠ¨ç”»ï¼Œå…¶å®è¦åšçš„å°±æ˜¯å°†<a href="http://en.wikipedia.org/wiki/GIF">GIF</a>åŠ¨ç”»ä¸­çš„æ¯ä¸€å¸§æ‹¿å‡ºæ¥è½¬åŒ–æˆUIImageï¼Œæ”¾åˆ°ä¸€ä¸ªæ•°ç»„ï¼Œç„¶ååœ¨é€šè¿‡è¯»å–<a href="http://en.wikipedia.org/wiki/GIF">GIF</a>æ¯ä¸€å¸§çš„å»¶æ—¶æ—¶é—´å¹¶ç´¯åŠ å¾—å‡ºä¸€ä¸ªæ€»æ—¶é•¿ï¼Œåšå®Œä»¥ä¸Šä¸¤æ­¥ä¹‹ååœ¨é€šè¿‡ä¸Šé¢çš„æ–¹æ³•å°±å¯ä»¥æ’­æ”¾<a href="http://en.wikipedia.org/wiki/GIF">GIF</a>åŠ¨ç”»äº†ã€‚ä½†æ˜¯é€šè¿‡è¿™ç§æ–¹å¼åˆ›å»ºçš„åŠ¨ç”»æœ‰ä¸€ä¸ªç¼ºç‚¹ï¼Œå› ä¸º<a href="http://en.wikipedia.org/wiki/GIF">GIF</a>åŠ¨ç”»å¾ˆæœ‰å¯èƒ½ä¸æ˜¯åŒ€é€ŸåŠ¨ç”»ï¼Œå®ƒçš„æ¯ä¸€å¸§å»¶æ—¶å¯èƒ½éƒ½ä¼šä¸åŒã€‚äºæ˜¯<a href="https://github.com/azone/WYZGIFAnimationView">WYZGIFAnimationView</a>è¯ç”Ÿäº†ï¼Œè¯´åˆ°è¿™é‡Œçªç„¶æƒ³åˆ°<a href="https://github.com/azone/WYZGIFAnimationView">WYZGIFAnimationView</a>è¿˜æ²¡æœ‰æ”¯æŒè¿™ä¸€ç‚¹ï¼Œæˆ‘è¦èµ¶ç´§ä¿®æ­£ä¸€ä¸‹å•¦~</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;å‡ ä¸ªæœˆå‰æ— æ„ä¸­çœ‹åˆ°&lt;a href=&quot;http://stackoverflow.com&quot;&gt;StackOverFlow&lt;/a&gt;ä¸Šçš„ä¸€ä¸ªå¸–å­&lt;a href=&quot;http://stackoverflow.com/questions/14458299/how-to-get-suitable-cgimage-from-combined-tiff-for-display-scale&quot;&gt;How to get suitable CGImage from combined TIFF for display scale&lt;/a&gt;äº†è§£åˆ°äº†&lt;a href=&quot;https://developer.apple.com/library/ios/documentation/graphicsimaging/Reference/ImageIORefCollection/_index.html&quot;&gt;ImageIO&lt;/a&gt;è¿™ä¸ªæ¡†æ¶ï¼Œçœ‹åˆ°å®ƒå¯ä»¥è¯»å–&lt;a href=&quot;http://en.wikipedia.org/wiki/Tagged_Image_File_Format&quot;&gt;TIFF&lt;/a&gt;ä¸­çš„å•å¼ å›¾ç‰‡ï¼Œå½“æ—¶å°±æƒ³èƒ½ä¸èƒ½è¯»å–&lt;a href=&quot;http://en.wikipedia.org/wiki/GIF&quot;&gt;GIF&lt;/a&gt;ä¸­çš„å›¾ç‰‡å‘¢ï¼Ÿåæ¥è¿›ä¸€æ­¥ç ”ç©¶åå‘ç°ç­”æ¡ˆæ˜¯è‚¯å®šçš„ã€‚åæ¥å°±æƒ³å“ªå¤©ç»†ç ”ç©¶ä¸€ä¸‹å§ï¼Œé¡ºä¾¿å†™ç¯‡åšå®¢è®°å½•ä¸€ä¸‹ã€‚æ²¡æƒ³åˆ°æˆ‘æ˜¯è¿™ä¹ˆçš„æ‡’~ï¼Œæ˜¨å¤©æ‰ç»ˆäºç ”ç©¶å¥½äº†é¡ºä¾¿å†™äº†ä¸ªé¡¹ç›®&lt;a href=&quot;https://github.com/azone/WYZGIFAnimationView&quot;&gt;WYZGIFAnimationView&lt;/a&gt;å¼€æºåˆ°äº†&lt;a href=&quot;https://github.com&quot;&gt;Github&lt;/a&gt;ä¸Šã€‚&lt;/p&gt;</summary>
    
    
    
    <category term="iOS" scheme="http://firestudio.cn/categories/ios/"/>
    
    
  </entry>
  
  <entry>
    <title>å¦‚ä½•è®©ä½ çš„iOS7åº”ç”¨æ”¯æŒé”®ç›˜å¿«æ·é”®</title>
    <link href="http://firestudio.cn/2013/12/26/ru-he-rang-ni-de-ios7ying-yong-zhi-chi-jian-pan-kuai-jie-jian/"/>
    <id>http://firestudio.cn/2013/12/26/ru-he-rang-ni-de-ios7ying-yong-zhi-chi-jian-pan-kuai-jie-jian/</id>
    <published>2013-12-26T14:50:35.000Z</published>
    <updated>2019-03-27T15:44:31.394Z</updated>
    
    <content type="html"><![CDATA[<p>æœ€è¿‘ä¹°äº†ä¸ªç½—æŠ€çš„å…‰èƒ½æ— çº¿é”®ç›˜ï¼ˆ<a href="http://www.amazon.cn/Logitech-%E7%BD%97%E6%8A%80-K760-%E5%A4%AA%E9%98%B3%E8%83%BD%E9%94%AE%E7%9B%98/dp/B008KW90OM/ref=sr_1_cc_1?s=aps&amp;ie=UTF8&amp;qid=1388078016&amp;sr=1-1-catcorr&amp;keywords=k760">K760</a>ï¼‰ç”¨æ¥è¿æ¥æˆ‘çš„iOSè®¾å¤‡ï¼Œä½†æ˜¯å‘ç°iOSæ‰€æ”¯æŒçš„å¿«æ·é”®å¤ªå°‘äº†ï¼ˆç‰¹åˆ«æ˜¯iPhoneï¼‰ï¼Œè€ŒiPadä¹Ÿä»…æœ‰é‚£å‡ æ¬¾åº”ç”¨æ”¯æŒé‚£å¯æ€œçš„å‡ ä¸ªå¿«æ·é”®ã€‚è¿™ä½¿å¾—æˆ‘æ„Ÿè§‰iOSè®¾å¤‡ç”¨é”®ç›˜å¦‚åŒé¸¡è‚‹ã€‚ã€‚ã€‚å› ä¸ºæ‰“å­—ä»€ä¹ˆçš„è¿˜æ˜¯è¦æ‰‹ç‚¹ã€‚</p><p>è®°å¾—ä¹‹å‰äº†è§£åˆ°iOS 7çš„UIResponderæ–°å¢äº†keyCommandsæ–¹æ³•ï¼Œäºæ˜¯ä»Šå¤©å°±ç ”ç©¶äº†ä¸€ä¸‹APIæ–‡æ¡£å¹¶ä¸”æµ‹è¯•äº†ä¸€ä¸‹ï¼Œæ„Ÿè§‰çœŸæ˜¯å¤ªæ£’äº†~</p><p>ä¸‹é¢ä»‹ç»ä¸€ä¸‹å¦‚ä½•è®©åº”ç”¨æ”¯æŒå¤–æ¥é”®ç›˜çš„å¿«æ·é”®ï¼Œå…¶å®å¾ˆç®€å•ï¼</p><span id="more"></span><p>é¦–å…ˆè¦ç¡®ä¿åœ¨éœ€è¦å®ç°é”®ç›˜å¿«æ·é”®çš„ViewControllerä¸­åŠ å…¥å¦‚ä¸‹ä»£ç ï¼š</p><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="built_in">BOOL</span>)canBecomeFirstResponder &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">YES</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç„¶åå°±æ˜¯é‡å†™<code>UIViewController</code>çš„<code>- (NSArray *)keyCommands</code>æ–¹æ³•ï¼š</p><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="built_in">NSArray</span> *)keyCommands &#123;</span><br><span class="line">    <span class="keyword">return</span> @[[<span class="built_in">UIKeyCommand</span> keyCommandWithInput:<span class="built_in">UIKeyInputEscape</span> modifierFlags:kNilOptions action:<span class="keyword">@selector</span>(escapeKeyPressed:)]];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æœ€åä¸€æ­¥å°±æ˜¯å®ç°<code>UIKeyCommand</code>çš„<code>action</code>ï¼š</p><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">void</span>)escapeKeyPressed:(<span class="built_in">UIKeyCommand</span> *)keyCommand &#123;</span><br><span class="line">    <span class="built_in">UIAlertView</span> *alertView = [[<span class="built_in">UIAlertView</span> alloc] initWithTitle:<span class="string">@&quot;UIKeyCommand Demo&quot;</span> message:[<span class="built_in">NSString</span> stringWithFormat:<span class="string">@&quot;%@ pressed&quot;</span>, keyCommand.input] delegate:<span class="literal">nil</span> cancelButtonTitle:<span class="string">@&quot;Ok&quot;</span> otherButtonTitles:<span class="literal">nil</span>];</span><br><span class="line">    [alertView show];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç°åœ¨è¯•ä¸€ä¸‹è¿è¡Œappï¼Œç„¶åæŒ‰ä¸€ä¸‹<code>esc</code>é”®ï¼ˆæ¨¡æ‹Ÿå™¨ä¸‹å¯ä»¥ä½¿ç”¨ç”µè„‘çš„é”®ç›˜ï¼‰ï¼Œçœ‹ä¸€ä¸‹æ•ˆæœ~ï¼Œæ€ä¹ˆæ ·ï¼Ÿå¾ˆæ£’å§ï¼ï¼ï¼</p><p><strong>å‚è€ƒæ–‡æ¡£ï¼š</strong></p><ul><li><p><a href="https://developer.apple.com/Library/ios/documentation/UIKit/Reference/UIResponder_Class/Reference/Reference.html#jumpTo_5">UIResponderçš„keyCommands</a> (<a href="dash://UIResponder%20keyCommands">åœ¨ Dash ä¸­æ‰“å¼€</a>)</p></li><li><p><a href="https://developer.apple.com/Library/ios/documentation/UIKit/Reference/UIKeyCommand_class/Reference/Reference.html#//apple_ref/occ/cl/UIKeyCommand">UIKeyCommand</a> (<a href="dash://UIKeyCommand">åœ¨ Dash ä¸­æ‰“å¼€</a>)</p></li></ul>]]></content>
    
    
    <summary type="html">&lt;p&gt;æœ€è¿‘ä¹°äº†ä¸ªç½—æŠ€çš„å…‰èƒ½æ— çº¿é”®ç›˜ï¼ˆ&lt;a href=&quot;http://www.amazon.cn/Logitech-%E7%BD%97%E6%8A%80-K760-%E5%A4%AA%E9%98%B3%E8%83%BD%E9%94%AE%E7%9B%98/dp/B008KW90OM/ref=sr_1_cc_1?s=aps&amp;amp;ie=UTF8&amp;amp;qid=1388078016&amp;amp;sr=1-1-catcorr&amp;amp;keywords=k760&quot;&gt;K760&lt;/a&gt;ï¼‰ç”¨æ¥è¿æ¥æˆ‘çš„iOSè®¾å¤‡ï¼Œä½†æ˜¯å‘ç°iOSæ‰€æ”¯æŒçš„å¿«æ·é”®å¤ªå°‘äº†ï¼ˆç‰¹åˆ«æ˜¯iPhoneï¼‰ï¼Œè€ŒiPadä¹Ÿä»…æœ‰é‚£å‡ æ¬¾åº”ç”¨æ”¯æŒé‚£å¯æ€œçš„å‡ ä¸ªå¿«æ·é”®ã€‚è¿™ä½¿å¾—æˆ‘æ„Ÿè§‰iOSè®¾å¤‡ç”¨é”®ç›˜å¦‚åŒé¸¡è‚‹ã€‚ã€‚ã€‚å› ä¸ºæ‰“å­—ä»€ä¹ˆçš„è¿˜æ˜¯è¦æ‰‹ç‚¹ã€‚&lt;/p&gt;
&lt;p&gt;è®°å¾—ä¹‹å‰äº†è§£åˆ°iOS 7çš„UIResponderæ–°å¢äº†keyCommandsæ–¹æ³•ï¼Œäºæ˜¯ä»Šå¤©å°±ç ”ç©¶äº†ä¸€ä¸‹APIæ–‡æ¡£å¹¶ä¸”æµ‹è¯•äº†ä¸€ä¸‹ï¼Œæ„Ÿè§‰çœŸæ˜¯å¤ªæ£’äº†~&lt;/p&gt;
&lt;p&gt;ä¸‹é¢ä»‹ç»ä¸€ä¸‹å¦‚ä½•è®©åº”ç”¨æ”¯æŒå¤–æ¥é”®ç›˜çš„å¿«æ·é”®ï¼Œå…¶å®å¾ˆç®€å•ï¼&lt;/p&gt;</summary>
    
    
    
    <category term="iOS" scheme="http://firestudio.cn/categories/ios/"/>
    
    
  </entry>
  
  <entry>
    <title>å¦‚ä½•åœ¨åšå®¢ä¸­æ’å…¥Liquidæ¨¡æ¿å˜é‡</title>
    <link href="http://firestudio.cn/2013/01/23/ru-he-zai-bo-ke-zhong-cha-ru-liquidmo-ban-bian-liang/"/>
    <id>http://firestudio.cn/2013/01/23/ru-he-zai-bo-ke-zhong-cha-ru-liquidmo-ban-bian-liang/</id>
    <published>2013-01-23T14:07:00.000Z</published>
    <updated>2019-03-27T18:28:59.064Z</updated>
    
    <content type="html"><![CDATA[<p>ä¸Šå‘¨å†™äº†ä¸€ç¯‡åšå®¢ã€Š<a href="/2013/01/13/rang-octopresszai-xin-biao-qian-ye-zhong-da-kai-wai-lian/">è®©Octopressåœ¨æ–°æ ‡ç­¾é¡µä¸­æ‰“å¼€å¤–é“¾</a>ã€‹ï¼Œé‡Œé¢åµŒå…¥äº†ä¸€æ®µä»£ç ï¼Œä½†æ˜¯é‡Œé¢æœ‰ä¸€ä¸ªæ¨¡æ¿å˜é‡<code>{{ root_url }}</code>å´æ€ä¹ˆä¹Ÿæ˜¾ç¤ºä¸å‡ºæ¥~ï¼Œåæ¥åœ¨Octpressçš„Issuesé¡µé¢é—®äº†ä¸€ä¸‹æ‰çŸ¥é“å¦‚ä½•æ‰èƒ½ä¸æŠŠé‚£äº›ç”¨æ¥æ˜¾ç¤ºçš„ä»£ç å—ä¸­çš„å˜é‡ä¸è¢«è§£æï¼Œå…·ä½“çœ‹<a href="https://github.com/imathis/octopress/issues/941#issuecomment-12206038">https://github.com/imathis/octopress/issues/941#issuecomment-12206038</a>æˆ–è€…Stack Overflowçš„<a href="http://stackoverflow.com/questions/3426182/how-to-escape-liquid-template-tags">How to escape liquid template tags?</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;ä¸Šå‘¨å†™äº†ä¸€ç¯‡åšå®¢ã€Š&lt;a href=&quot;/2013/01/13/rang-octopresszai-xin-biao-qian-ye-zhong-da-kai-wai-lian/&quot;&gt;è®©Octopressåœ¨æ–°æ ‡ç­¾é¡µä¸­æ‰“å¼€å¤–é“¾&lt;/a&gt;ã€‹ï¼Œé‡Œé¢åµŒå…¥äº†ä¸€æ®µä»£ç ï¼Œä½†æ˜¯é‡Œé¢æœ‰ä¸€ä¸ªæ¨¡æ¿å˜é‡&lt;</summary>
      
    
    
    
    <category term="Other" scheme="http://firestudio.cn/categories/other/"/>
    
    
    <category term="Octopress" scheme="http://firestudio.cn/tags/octopress/"/>
    
  </entry>
  
  <entry>
    <title>å¦‚ä½•é«˜æ•ˆçš„ä½¿ç”¨XCode</title>
    <link href="http://firestudio.cn/2013/01/23/ru-he-gao-xiao-de-shi-yong-xcode/"/>
    <id>http://firestudio.cn/2013/01/23/ru-he-gao-xiao-de-shi-yong-xcode/</id>
    <published>2013-01-23T12:52:00.000Z</published>
    <updated>2019-03-27T14:23:09.915Z</updated>
    
    <content type="html"><![CDATA[<p>ä¸Šå‘¨çœ‹äº†WWDC 2012çš„Session 402 - Working Efficiently with Xcodeï¼Œé¡ºä¾¿è®°äº†ä¸€äº›ç¬”è®°ã€‚çœ‹äº†ä¹‹åæ‰æ³¨æ„åˆ°å¾ˆå¤šXcodeçš„å¿«æ·é”®å’Œç‰¹æ€§éƒ½æ²¡ç”¨è¿‡æˆ–è€…è¯´æ²¡æƒ³åˆ°è¿‡ç”¨<sub>ï¼Œå¹³æ—¶ç”¨çš„å¤ªæ­»æ¿ï¼Œåªæ˜¯ç”¨äº†`ï£¿+R`ä¹‹ç±»çš„å¿«æ·é”®ã€‚ç°åœ¨æŠŠä¸Šå‘¨æ•´ç†çš„ç¬”è®°è´´ä¸Šæ¥å§</sub></p><span id="more"></span><ul><li><code>âŒ˜+0</code> æ˜¾ç¤º/éšè—å¯¼èˆªæ </li><li><code>âŒ¥+âŒ˜+0</code> æ˜¾ç¤º/éšè—å·¥å…·æ </li><li><code>â‡§+âŒ˜+O</code> å¿«é€Ÿæ‰“å¼€</li><li><code>âŒ˜+å•å‡»</code> åœ¨ä¸»ç¼–è¾‘å™¨ä¸­æ˜¾ç¤ºå®šä¹‰</li><li><code>âŒ¥+âŒ˜+å•å‡»</code> åœ¨åŠ©æ‰‹ç¼–è¾‘å™¨ä¸­æ˜¾ç¤ºå®šä¹‰</li><li><code>âŒ¥+âŒ˜+â</code> æ˜¾ç¤ºåŠ©æ‰‹ç¼–è¾‘å™¨</li><li><code>âŒ˜+â</code> éšè—åŠ©æ‰‹ç¼–è¾‘å™¨</li><li>å…ˆæŒ‰ <code>âŒ˜+E</code> å†æŒ‰ <code>âŒ˜+G</code> æœç´¢å½“å‰æ‰€é€‰æ–‡æœ¬ï¼Œç»§ç»­æŒ‰<code>âŒ˜+G</code>æœç´¢ä¸‹ä¸€ä¸ª</li><li><code>âŒƒ+âŒ¥+âŒ˜+2</code>æ‰“å¼€ä»£ç ç‰‡æ®µåº“</li><li><code>âŒ˜+J</code> å¤šä¸ªçª—å£ä¹‹é—´åˆ‡æ¢</li><li><code>âŒ¥+â†’/â†</code> å…ˆå‰/å‘åç§»åŠ¨ä¸€ä¸ªå•è¯</li><li><code>âŒƒ+b/f/n/p</code> å‘å‰/å‘åç§»åŠ¨ä¸€ä¸ªå­—ç¬¦ï¼Œå‘ä¸Š/å‘ä¸‹ç§»åŠ¨ä¸€è¡Œ</li><li><code>âŒƒ+âŒ˜+E</code> å½“å‰ç¼–è¾‘å™¨å…¨å±€ç¼–è¾‘å½“å‰å…‰æ ‡æ‰€åœ¨çš„å˜é‡åæˆ–æ–¹æ³•å</li><li><code>âŒƒ+â‡§+âŒ˜+/</code> å¿«é€Ÿå¸®åŠ©</li><li><code>âŒ˜+åŒå‡»</code> åœ¨æ–°çª—å£ä¸­æ˜¾ç¤ºå®šä¹‰</li><li><code>âŒƒ+âŒ¥+âŒ˜+J</code>åœ¨åŠ©æ‰‹ç¼–è¾‘å™¨ä¸­æ˜¾ç¤ºå®šä¹‰</li><li>åŒå‡» <code>&#123;</code> é€‰æ‹©ä»£ç å—</li><li>æœç´¢æ›¿æ¢æ—¶æŒ‰ä½ <code>âŒ¥</code> ä¼šå°†æœç´¢æ çš„ â€œReplace Allâ€ å˜æˆ â€œIn Selectionâ€</li><li>Xcodeæœ‰ <strong>TODO</strong> å’Œ <strong>FIXME</strong> åŠŸèƒ½ï¼Œåªéœ€è¦åœ¨æ³¨é‡Šä¸­å†™ä¸Š<code>TODO: xxx</code>æˆ–è€…<code>FIXME: xxx</code>å³å¯</li></ul><p>ä»–ä»¬åœ¨è§†é¢‘ä¸­ä»‹ç»äº†ä¸€ä¸ªAutomatoræœåŠ¡ï¼Œé€šè¿‡è¿™ä¸ªæœåŠ¡æ¥è¾¾åˆ°å¯¹å¼•å…¥çš„å¤´æ–‡ä»¶è¿›è¡Œæ’åºå’Œè¿‡æ»¤é‡å¤çš„åŠŸèƒ½ï¼Œæ–¹æ³•å¾ˆç®€å•ï¼Œå…·ä½“è®¾ç½®è§å›¾ï¼š</p><p><a href="http://www.flickr.com/photos/92204252@N08/8408600186/"><img src="http://farm9.staticflickr.com/8186/8408600186_3c8f005426_z.jpg" alt="sort | uniq" /></a></p><p>å¦å¤–åœ¨è¿™ä¸ªè§†é¢‘ä¸­ä»–ä»¬è¿˜ä»‹ç»äº†Behaviorã€Tabå’Œæ–°çª—å£ç­‰çš„ä½¿ç”¨æŠ€å·§æ¥æé«˜æ•ˆç‡ï¼Œå¾ˆå€¼å¾—ä¸€çœ‹ã€‚</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;ä¸Šå‘¨çœ‹äº†WWDC 2012çš„Session 402 - Working Efficiently with Xcodeï¼Œé¡ºä¾¿è®°äº†ä¸€äº›ç¬”è®°ã€‚çœ‹äº†ä¹‹åæ‰æ³¨æ„åˆ°å¾ˆå¤šXcodeçš„å¿«æ·é”®å’Œç‰¹æ€§éƒ½æ²¡ç”¨è¿‡æˆ–è€…è¯´æ²¡æƒ³åˆ°è¿‡ç”¨&lt;sub&gt;ï¼Œå¹³æ—¶ç”¨çš„å¤ªæ­»æ¿ï¼Œåªæ˜¯ç”¨äº†`ï£¿+R`ä¹‹ç±»çš„å¿«æ·é”®ã€‚ç°åœ¨æŠŠä¸Šå‘¨æ•´ç†çš„ç¬”è®°è´´ä¸Šæ¥å§&lt;/sub&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="Xcode" scheme="http://firestudio.cn/categories/xcode/"/>
    
    
    <category term="xcode" scheme="http://firestudio.cn/tags/xcode/"/>
    
  </entry>
  
  <entry>
    <title>è®©Octopressåœ¨æ–°æ ‡ç­¾é¡µä¸­æ‰“å¼€å¤–é“¾</title>
    <link href="http://firestudio.cn/2013/01/13/rang-octopresszai-xin-biao-qian-ye-zhong-da-kai-wai-lian/"/>
    <id>http://firestudio.cn/2013/01/13/rang-octopresszai-xin-biao-qian-ye-zhong-da-kai-wai-lian/</id>
    <published>2013-01-13T11:30:00.000Z</published>
    <updated>2019-03-27T14:23:09.914Z</updated>
    
    <content type="html"><![CDATA[<p>ä»Šå¤©å‘ç°Octopressä¸€ä¸ªå°å°çš„é—®é¢˜ï¼Œå°±æ˜¯æ— æ³•å°†å¤–é“¾åœ¨æ–°çª—å£ä¸­æ‰“å¼€ã€‚äºæ˜¯å°±è‡ªå·±å†™äº†ä¸€å°æ®µjavascriptä»£ç è½»æ˜“çš„è§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚</p><span id="more"></span><p>ä»£ç å¦‚ä¸‹ï¼š</p><script src="//gist.github.com/4523641.js?file=open-in-blank.js"></script><p>ç”¨æ³•å¾ˆç®€å•ï¼š</p><ol><li>å°†ä¸Šé¢çš„ä»£ç ä¸‹è½½ä¸‹æ¥æˆ–è€…å¤åˆ¶å…¶å†…å®¹ï¼›</li><li>ä¿å­˜åˆ°octopressç›®å½•çš„source/javascripts/å­ç›®å½•ä¸­ï¼›</li><li>ä¿®æ”¹source/_includes/custom/header.htmlï¼Œåœ¨ä¸‹é¢æ’å…¥å¦‚ä¸‹ä»£ç å³å¯ï¼š</li></ol><figure class="highlight html"><figcaption><span>source/_includes/custom/header.html</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;&#123;&#123; root_url &#125;&#125;/javascripts/open-in-blank.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;p&gt;ä»Šå¤©å‘ç°Octopressä¸€ä¸ªå°å°çš„é—®é¢˜ï¼Œå°±æ˜¯æ— æ³•å°†å¤–é“¾åœ¨æ–°çª—å£ä¸­æ‰“å¼€ã€‚äºæ˜¯å°±è‡ªå·±å†™äº†ä¸€å°æ®µjavascriptä»£ç è½»æ˜“çš„è§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚&lt;/p&gt;</summary>
    
    
    
    <category term="Other" scheme="http://firestudio.cn/categories/other/"/>
    
    
    <category term="Octopress" scheme="http://firestudio.cn/tags/octopress/"/>
    
  </entry>
  
  <entry>
    <title>OS X ä¸‹å¦‚ä½•å®ç°æ‰¹é‡é‡å‘½åæ–‡ä»¶</title>
    <link href="http://firestudio.cn/2013/01/13/os-x-xia-ru-he-shi-xian-pi-liang-zhong-ming-ming-wen-jian/"/>
    <id>http://firestudio.cn/2013/01/13/os-x-xia-ru-he-shi-xian-pi-liang-zhong-ming-ming-wen-jian/</id>
    <published>2013-01-12T17:01:00.000Z</published>
    <updated>2019-03-27T14:23:09.914Z</updated>
    
    <content type="html"><![CDATA[<p>Windowså’ŒLinuxä¸‹æ‰¹é‡é‡å‘½åéƒ½æ˜¯éå¸¸ç®€å•çš„ï¼ˆå¯ä»¥å‚è€ƒ<a href="http://linux-wiki.cn/wiki/zh-hk/%E6%89%B9%E9%87%8F%E9%87%8D%E5%91%BD%E5%90%8D%E6%96%87%E4%BB%B6">æ‰¹é‡é‡å‘½åæ–‡ä»¶ - Linux Wiki</a>ï¼‰ã€‚OS Xå½“ç„¶ä¹Ÿå¯ä»¥åƒLinuxé‚£æ ·ç”¨å‘½ä»¤è¡Œï¼Œä½†æ˜¯åˆè¦é€šè¿‡<a href="http://mxcl.github.com/homebrew/">Homebrew</a>æˆ–è€…<a href="http://www.macports.org/">MacPorts</a>ï¼Œå¯¹äºå¾ˆå¤šäººæ¥è¯´å¯èƒ½æ¯”è¾ƒéº»çƒ¦æˆ–è€…ä¸ä¼šç”¨å‘½ä»¤è¡Œã€‚æˆ‘ä¸€ç›´åœ¨æƒ³OS Xè¿™ä¹ˆé«˜çº§çš„æ“ä½œç³»ç»Ÿéš¾é“æ²¡æœ‰æ›´å¥½ç”¨çš„æ‰¹é‡é‡å‘½åçš„æ–¹æ³•å—ï¼Ÿç­”æ¡ˆæ˜¯è‚¯å®šçš„~</p><span id="more"></span><p>ä¹‹å‰æˆ‘ä¸€ç›´æ²¡æœ‰ç”¨è¿‡ç³»ç»Ÿè‡ªå¸¦çš„Automatorè¿™ä¸ªå¼ºå¤§çš„å·¥å…·ï¼Œæ›´æ˜¯æ²¡æœ‰æƒ³åˆ°è¦ç”¨ï¼Œåæ¥çœ‹äº†@ibuickçš„<a href="http://ibuick.com/online-store">ã€ŠOS X Mountain Lioné«˜æ‰‹è¿›é˜¶ã€‹</a>ä¹‹ååšä¸€äº›æ“ä½œä¹‹å‰æ€»æ˜¯å…ˆæƒ³ä¸€ä¸‹èƒ½ä¸èƒ½ç”¨Automatoræ¥ä»£æ›¿æˆ‘è‡ªåŠ¨æ‰¹é‡å®Œæˆã€‚ä¸‹é¢äº†ä»‹ç»ä¸€ä¸‹æ€ä¹ˆæ¥é€šè¿‡Automatoræ¥åšä¸€ä¸ªæ‰¹é‡é‡å‘½åçš„å·¥å…·å§ã€‚</p><ol><li>æ‰“å¼€Automatorï¼Œåœ¨å¼¹å‡ºçš„â€œé€‰å–æ–‡ç¨¿ç±»å‹â€æ¡†ä¸­é€‰æ‹©â€œæœåŠ¡â€ï¼Œè®¾ç½® ã€â€œæœåŠ¡â€æ”¶åˆ°é€‰å®šçš„ã€‘é€‰â€œæ–‡ä»¶æˆ–æ–‡ä»¶å¤¹â€ã€ã€ä½äºã€‘é€‰â€œFinderâ€ï¼›</li><li>åœ¨èµ„æºåº“ä¸­æ‰¾åˆ°â€œç»™ Finder é¡¹ç›®é‡å‘½åâ€ï¼ŒåŒå‡»æˆ–æ‹–åˆ°å³è¾¹â€œå·¥ä½œæµç»„è£…åŒºâ€ï¼Œ<strong>è®°å¾—å‹¾é€‰â€œå·¥ä½œæµç¨‹è¿è¡Œæ—¶æ˜¾ç¤ºæ¬¡æ“ä½œâ€</strong>ï¼›</li><li>ä¿å­˜æœåŠ¡ï¼Œå°†å…¶å‘½åä¸ºâ€œæ‰¹é‡é‡å‘½åâ€</li></ol><p>æœ€åè®©å¤§å®¶çœ‹ä¸€ä¸‹è®¾ç½®æˆªå›¾ï¼š</p><p><a href="http://www.flickr.com/photos/92204252@N08/8372891419/"><img src="http://farm9.staticflickr.com/8330/8372891419_8628bd032a_c.jpg" class="" title="Automatorè®¾ç½®"></a></p><p>ä»¥åå¦‚æœæƒ³ç»™æ–‡ä»¶æ‰¹é‡é‡å‘½åçš„æ—¶å€™åªéœ€è¦é€‰æ‹©éœ€è¦é‡å‘½åçš„æ–‡ä»¶ï¼Œç„¶åé€‰æ‹©â€œï£¿â€ -&gt; â€œæœåŠ¡â€æˆ–è€…ç‚¹å‡»å³é”®é€‰æ‹©æœåŠ¡ï¼Œæ‰¾åˆ°â€œæ‰¹é‡é‡å‘½åâ€å°±å¯ä»¥äº†~</p><p><a href="http://www.flickr.com/photos/92204252@N08/8372922251/"><img src="http://farm9.staticflickr.com/8329/8372922251_cc83e25b1e_z.jpg" class="" title="æ‰§è¡Œæ•ˆæœå›¾"></a></p><p>æœ€åé™„ä¸Šæˆ‘åˆ¶ä½œçš„<a href="/uploads/files/batch-rename.workflow.zip">batch-rename.workflow.zip</a>ï¼Œä½ å¯ä»¥ä¸‹è½½ä¹‹åè§£å‹ï¼Œç„¶ååŒå‡»å®‰è£…ã€‚</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;Windowså’ŒLinuxä¸‹æ‰¹é‡é‡å‘½åéƒ½æ˜¯éå¸¸ç®€å•çš„ï¼ˆå¯ä»¥å‚è€ƒ&lt;a href=&quot;http://linux-wiki.cn/wiki/zh-hk/%E6%89%B9%E9%87%8F%E9%87%8D%E5%91%BD%E5%90%8D%E6%96%87%E4%BB%B6&quot;&gt;æ‰¹é‡é‡å‘½åæ–‡ä»¶ - Linux Wiki&lt;/a&gt;ï¼‰ã€‚OS Xå½“ç„¶ä¹Ÿå¯ä»¥åƒLinuxé‚£æ ·ç”¨å‘½ä»¤è¡Œï¼Œä½†æ˜¯åˆè¦é€šè¿‡&lt;a href=&quot;http://mxcl.github.com/homebrew/&quot;&gt;Homebrew&lt;/a&gt;æˆ–è€…&lt;a href=&quot;http://www.macports.org/&quot;&gt;MacPorts&lt;/a&gt;ï¼Œå¯¹äºå¾ˆå¤šäººæ¥è¯´å¯èƒ½æ¯”è¾ƒéº»çƒ¦æˆ–è€…ä¸ä¼šç”¨å‘½ä»¤è¡Œã€‚æˆ‘ä¸€ç›´åœ¨æƒ³OS Xè¿™ä¹ˆé«˜çº§çš„æ“ä½œç³»ç»Ÿéš¾é“æ²¡æœ‰æ›´å¥½ç”¨çš„æ‰¹é‡é‡å‘½åçš„æ–¹æ³•å—ï¼Ÿç­”æ¡ˆæ˜¯è‚¯å®šçš„~&lt;/p&gt;</summary>
    
    
    
    <category term="Automator" scheme="http://firestudio.cn/categories/automator/"/>
    
    
    <category term="æ‰¹é‡é‡å‘½å" scheme="http://firestudio.cn/tags/%E6%89%B9%E9%87%8F%E9%87%8D%E5%91%BD%E5%90%8D/"/>
    
    <category term="Automator" scheme="http://firestudio.cn/tags/automator/"/>
    
  </entry>
  
  <entry>
    <title>å¦‚ä½•é€šè¿‡GitHubä¸Octopresssæ¥æ­å»ºè‡ªå·±çš„åšå®¢</title>
    <link href="http://firestudio.cn/2013/01/05/ru-he-tong-guo-github-yu-octopress-lai-da-jian-zi-ji-de-bo-ke/"/>
    <id>http://firestudio.cn/2013/01/05/ru-he-tong-guo-github-yu-octopress-lai-da-jian-zi-ji-de-bo-ke/</id>
    <published>2013-01-05T13:05:00.000Z</published>
    <updated>2019-03-27T14:23:09.913Z</updated>
    
    <content type="html"><![CDATA[<p>ç°åœ¨é€šè¿‡<a href="https://github.com/">GitHub</a>+<a href="http://octopress.org/">Octopress</a>æ¥æ­å»ºä¸ªäººåšå®¢çš„è¶Šæ¥è¶Šå¤šäº†ã€‚è¿™å‡ å¤©æˆ‘ä¹Ÿè¯•ç€é€šè¿‡è¿™ä¸ªè¯•ç€æ­å»ºä¸€ä¸‹ï¼Œå¼€å§‹è§‰å¾—å¾ˆæŠ˜è…¾ï¼Œåæ¥æŠ˜è…¾å‡ºæ¥ä¹‹åå‘ç°è¿˜æ˜¯ä¹°ç®€å•çš„ã€‚</p><p>é€šè¿‡<a href="https://github.com/">GitHub</a>+<a href="http://octopress.org/">Octopress</a>æ­å»ºçš„åšå®¢æœ‰å‡ ä¸ªå¾ˆæ˜¾è€Œæ˜“è§çš„æœ‰ç‚¹ï¼š</p><span id="more"></span><ol><li>ç®€å•ï¼Œè™½ç„¶ä¸€å¼€å§‹è§‰å¾—è¿˜æ˜¯å¾ˆå¤æ‚çš„ï¼Œä½†æ˜¯ç­‰æ­å»ºå¥½ä¸€æ¬¡ä¹‹åå‘ç°è¿˜æ˜¯å¾ˆç®€å•çš„ï¼›</li><li>å®Œå…¨å…è´¹ï¼Œä¸éœ€è¦è€ƒè™‘ç©ºé—´è´¹ç”¨é—®é¢˜ï¼Œç”šè‡³åŸŸåçš„è´¹ç”¨ä¹Ÿä¸ç”¨è€ƒè™‘ï¼›</li><li>ç©ºé—´å¤Ÿå¤§ï¼Œå¦‚æœåªå†™æ–‡å­—ç±»çš„åšå®¢æ¥è¯´<a href="https://github.com/">GitHub</a>æä¾›1GBçš„ç©ºé—´ï¼Œå·²ç»è¶³å¤Ÿç”¨äº†</li><li>æ’ä»¶å¤šï¼Œ<a href="http://octopress.org/">Octopress</a>ä¹Ÿæœ‰å¾ˆå¤šæ’ä»¶ï¼ˆåŒ…æ‹¬<a href="http://jekyllrb.com/">Jekyll</a>çš„æ’ä»¶ï¼‰ï¼Œè™½ç„¶ä¸èƒ½å’ŒWordpressæ¯”ï¼Œä½†æ˜¯ä¹Ÿå¤Ÿç”¨äº†~ã€‚å¦‚æœè‡ªå·±æœ‰èƒ½åŠ›çš„è¯ä¹Ÿå¯ä»¥è‡ªå·±å†™ä¸€äº›</li><li>æœ‰ç‰ˆæœ¬æ§åˆ¶ï¼Œéšæ—¶æ¢å¤åˆ°ä»¥å‰ä»»ä½•ä¸€ä¸ªç‰ˆæœ¬</li><li>â€¦â€¦</li></ol><p>åºŸè¯ä¸å¤šè¯´äº†ï¼Œä¸‹é¢å°±ä»‹ç»æ¥ä¸€ä¸‹åšå®¢çš„æ­å»ºè¿‡ç¨‹ã€‚</p><h2 id="ä¸€äº›å¿…è¦å…ƒç´ "><a class="markdownIt-Anchor" href="#ä¸€äº›å¿…è¦å…ƒç´ "></a> ä¸€äº›å¿…è¦å…ƒç´ </h2><ul><li><a href="https://github.com/">GitHub</a>è´¦å·</li><li>Gitç¯å¢ƒ</li><li>Rubyç¯å¢ƒï¼ˆ1.9.3ï¼‰</li><li>Markdownç¼–è¾‘å™¨ï¼ˆç”¨äºå†™æ—¥å¿—ç”¨ï¼‰</li></ul><h3 id="æ³¨å†Œgithubè´¦å·"><a class="markdownIt-Anchor" href="#æ³¨å†Œgithubè´¦å·"></a> æ³¨å†ŒGitHubè´¦å·</h3><p>è¿™ä¸ªå¾ˆç®€å•ï¼Œåªéœ€è¦åˆ°<a href="https://github.com/">GitHub</a>æŒ‰ç…§ä¸Šé¢çš„æç¤ºæ³¨å†Œå°±å¯ä»¥äº†</p><h3 id="æ­å»ºgitç¯å¢ƒ"><a class="markdownIt-Anchor" href="#æ­å»ºgitç¯å¢ƒ"></a> æ­å»ºGitç¯å¢ƒ</h3><ul><li>å¦‚æœæ˜¯Macçš„è¯å»ºè®®ç”¨<a href="http://code.google.com/p/git-osx-installer/downloads/list">Git OS X Installer</a></li><li>å¦‚æœæ˜¯Windowsçš„è¯è¯·ä¸‹è½½<a href="http://code.google.com/p/msysgit/downloads/list?q=full+installer+official+git">msysgit</a>å¹¶å®‰è£…</li><li>å¦‚æœæ˜¯Linux<ul><li>Debian/Ubuntuï¼š<code>sudo apt-get install git-core</code></li><li>CentOS/Redhat/Fedoraï¼š <code>sudo yum install git-core</code></li><li>å…¶ä»–Linuxç³»ç»Ÿå¯ä»¥åˆ°<a href="http://git-scm.com">Gitå®˜ç½‘</a>(éœ€è¦ç¿»å¢™)æˆ–è€…<a href="https://github.com/git/git">GitHub</a>ä¸‹è½½æºä»£ç è¿›è¡Œç¼–è¯‘å®‰è£…</li></ul></li></ul><p>è£…å¥½ä¹‹åéœ€è¦å¯¹gitè¿›è¡Œç®€å•çš„é…ç½®ï¼ˆå¦‚æœæ˜¯Windowséœ€è¦æ‰“å¼€Git Shellï¼‰</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.email <span class="string">&quot;your-email@example.com&quot;</span></span><br><span class="line">git config --global user.name <span class="string">&quot;Your Name Here&quot;</span></span><br></pre></td></tr></table></figure><p>ç„¶åç”Ÿæˆè¯ä¹¦ï¼ˆå¦‚æœæ˜¯Windowséœ€è¦æ‰“å¼€Git Shellï¼‰</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C <span class="string">&quot;your-email@example.com or other message&quot;</span></span><br></pre></td></tr></table></figure><p>ç„¶åæ‹·è´~/.ssh/id_rsa.pubï¼ˆWindowsä¸€èˆ¬åœ¨C:\Users&lt;username&gt;.ssh\id_rsa.pubï¼‰çš„å†…å®¹ï¼Œç™»é™†<a href="https://github.com/">GitHub</a>ï¼Œè¿›å…¥&quot;Account Settings&quot;ï¼Œç‚¹å‡»&quot;SSH Keys&quot;ï¼Œå†ç‚¹&quot;Add SSH Keys&quot;ï¼Œå°†id_rsa.pubçš„å†…å®¹ç²˜è´´åˆ°&quot;Key&quot;ä¸­ï¼Œå¹¶è¾“å…¥&quot;Title&quot;</p><h3 id="å®‰è£…ruby"><a class="markdownIt-Anchor" href="#å®‰è£…ruby"></a> å®‰è£…Ruby</h3><p>ä½¿ç”¨<a href="http://octopress.org/">Octopress</a>éœ€è¦Rubyç‰ˆæœ¬ä¸º1.9.3ï¼Œå¦‚æœå°äºè¿™ä¸ªç‰ˆæœ¬åˆ™æ— æ³•ä½¿ç”¨ã€‚ä¸‹é¢ä»‹ç»ä¸€ä¸‹å¦‚ä½•å®‰è£…Ruby~</p><p>å¦‚æœä½ ç”¨çš„æ“ä½œç³»ç»Ÿæ˜¯éWindowsåˆ™æ¯”è¾ƒç®€å•ï¼Œå¼ºçƒˆå»ºè®®å®‰è£…<a href="https://github.com/sstephenson/rbenv">rbenv</a>æˆ–è€…<a href="https://rvm.io/">RVM</a>ï¼Œé€šè¿‡å®ƒä»¬æ¥å®‰è£…ruby1.9.3ï¼Œè¿™æ ·ä¸ä¼šå¯¹ä½ ç³»ç»Ÿæœ¬èº«é€ æˆä»»ä½•å½±å“ã€‚ä»¥ä¸ªäººç»éªŒåœ¨Macä¸‹å®‰è£…Rubyæ¯”è¾ƒéº»çƒ¦ä¸€äº›ã€‚å¦‚æœä½ ä¹‹å‰å®‰è£…è¿‡XCode4.1ï¼ˆå¿…é¡»è£…äº†Command Line Toolsï¼‰æˆ–è€…ä¹‹å‰çš„ç‰ˆæœ¬æ˜¯æ¯”è¾ƒç®€å•çš„ï¼Œå¦åˆ™éœ€è¦å…ˆå®‰è£…<code>apple-gcc42</code>ï¼Œ<code>apple-gcc42</code>ä½ å¯ä»¥é€šè¿‡<a href="http://mxcl.github.com/homebrew/">Homebrew</a>ï¼ˆ<a href="https://github.com/mxcl/homebrew">æºä»£ç </a>ï¼‰æˆ–è€…<a href="http://kennethreitz.com/xcode-gcc-and-homebrew.html">OSX GCC Installer</a>ï¼ˆ<a href="https://github.com/kennethreitz/osx-gcc-installer">æºä»£ç </a>ï¼‰æ¥å®‰è£…ã€‚</p><p>å¦‚æœä½ ç”¨çš„æ˜¯Windowsçš„è¯éœ€è¦é€šè¿‡<a href="http://www.rubyinstaller.org/downloads/">RubyInstaller</a>æ¥å®‰è£…å®‰è£…Rubyï¼Œåˆ°ä¸Šé¢çš„é¡µé¢ä¸‹è½½æœ€æ–°çš„Rubyå’ŒDevKitã€‚é¦–å…ˆå®‰è£…Rubyï¼ˆè®°å¾—æŠŠRubyåŠ å…¥åˆ°ç³»ç»ŸPATHå˜é‡ï¼Œå®‰è£…çš„æ—¶å€™æœ‰è¿™ä¸ªé€‰é¡¹ï¼‰ï¼Œç„¶ååŒå‡»è§£å‹ä¸‹è½½çš„DevKitï¼ˆè‡ªè§£å‹æ–‡ä»¶ï¼‰ï¼Œé€šè¿‡å‘½ä»¤æç¤ºç¬¦cdåˆ°è§£å‹çš„ç›®å½•ï¼Œæ‰§è¡Œ<code>ruby dk.rb init</code>ï¼Œç„¶åå†æ‰§è¡Œ<code>ruby dk.rb install</code>ï¼Œè¿™æ ·rubyå°±å®‰è£…å¥½äº†ã€‚</p><h3 id="markdownç¼–è¾‘å™¨"><a class="markdownIt-Anchor" href="#markdownç¼–è¾‘å™¨"></a> Markdownç¼–è¾‘å™¨</h3><ul><li>Macæ¨èç”¨<a href="http://mouapp.com/">Mou</a>ï¼Œå›½äººå¼€å‘çš„ï¼Œå…è´¹çš„ï¼Œä½ å¯ä»¥å‘ä½œè€…æä¾›ä¸€äº›<a href="http://mouapp.com/donate/">èµåŠ©</a></li><li>Windowså¯ä»¥ç”¨<a href="http://markdownpad.com/">MarkdownPad</a></li><li>Linuxå°±è‡ªå·±æ‰¾å§ï¼Œåº”è¯¥ä¹Ÿæ¯”è¾ƒå¤š</li><li>é™¤äº†ä»¥ä¸Šä»‹ç»çš„å‡ ä¸ªç¼–è¾‘å™¨ä¹‹å¤–ï¼Œå¾ˆå¤šä»£ç ç¼–è¾‘å™¨ä¹Ÿæ”¯æŒ</li></ul><h2 id="æ­å»ºä½ çš„blog"><a class="markdownIt-Anchor" href="#æ­å»ºä½ çš„blog"></a> æ­å»ºä½ çš„Blog</h2><h3 id="é…ç½®ä¸éƒ¨ç½²"><a class="markdownIt-Anchor" href="#é…ç½®ä¸éƒ¨ç½²"></a> é…ç½®ä¸éƒ¨ç½²</h3><p>é…ç½®<a href="http://octopress.org/">Octopress</a>å…¶å®è¿˜æ˜¯è›®ç®€å•çš„ï¼Œåªè¦æ ¹æ®å®˜ç½‘ä¸Šçš„<a href="http://octopress.org/docs/">æ–‡æ¡£</a>ä¸€æ­¥ä¸€æ­¥æ¥å°±å¯ä»¥äº†ã€‚æˆ‘å°±ç®€è¦ä»‹ç»ä¸€ä¸‹æ­¥éª¤å§ï¼ˆWindowsä¸‹è¦åœ¨Git Shellå‘½ä»¤è¡Œä¸­æ‰§è¡Œå‘½ä»¤ï¼‰~</p><p>é¦–å…ˆè¦åˆ°<a href="https://github.com/">GitHub</a>ä¸Šåˆ›å»ºä¸€ä¸ªä»“åº“ï¼Œä»“åº“çš„åå­—æ˜¯<code>&lt;username&gt;.github.com</code>ï¼Œå…¶ä¸­<code>&lt;username&gt;</code>æ˜¯ä½ çš„githubä¸Šçš„ç”¨æˆ·åã€‚åˆ›å»ºå¥½ä¹‹åéœ€è¦è¿›å…¥åˆšæ‰å»ºç«‹çš„ä»“åº“ï¼Œç„¶åè¿›å…¥&quot;Settings&quot;ï¼Œå¾€ä¸‹æ»šä½ ä¼šçœ‹åˆ°&quot;GitHub Pages&quot;ï¼Œé‡Œé¢æœ‰ä¸ª&quot;Automatic Page Generator&quot;æŒ‰é’®ï¼Œç‚¹å‡»å®ƒã€‚ç„¶åæ˜¯ç”Ÿæˆçš„é¦–é¡µå’Œå†…å®¹ï¼Œåˆ«ç®¡å®ƒåªéœ€è¦ç‚¹ä¸‹é¢çš„&quot;Continue to Layouts&quot;æŒ‰é’®å°±è¡Œã€‚æ¥ç€å°±æ˜¯é€‰æ‹©æ¨¡æ¿ï¼Œéšä¾¿é€‰ä¸€ä¸ªç„¶åæŒ‰&quot;PUBLISH&quot;æŒ‰é’®å³å¯ã€‚å¤§çº¦ååˆ†é’Ÿä¹‹åå°±å¯ä»¥çœ‹åˆ°é€šè¿‡&quot;Automatic Page Generator&quot;ç”Ÿæˆçš„é¡µé¢äº†ï¼Œå½“ç„¶è¿™ä¸ªä½ ä¸éœ€è¦ç®¡å®ƒï¼Œè¿‡ä¸€ä¼šä¼šè¢«<a href="http://octopress.org/">Octopress</a>ç”Ÿæˆçš„é™æ€é¡µé¢ç»™æ›¿æ¢æ‰ã€‚</p><p>æ¥ä¸‹æ¥å°±è¦æŠŠ<a href="http://octopress.org/">Octopress</a>å…‹éš†ä¸‹æ¥äº†ï¼Œåœ¨ç»ˆç«¯è¾“å…¥å¦‚ä¸‹å‘½ä»¤ï¼ˆå¯ä»¥å‚è€ƒ<a href="http://octopress.org/docs/setup/">http://octopress.org/docs/setup/</a>ï¼‰ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /path/<span class="built_in">where</span>/you/want/to/<span class="built_in">clone</span></span><br><span class="line">git <span class="built_in">clone</span> https://github.com/imathis/octopress.git</span><br><span class="line"><span class="built_in">cd</span> octopress</span><br><span class="line"><span class="comment"># å®‰è£…ä¾èµ–</span></span><br><span class="line">gem install bundler</span><br><span class="line">bundle install</span><br><span class="line"><span class="comment"># å®‰è£…Octopressé»˜è®¤çš„ä¸»é¢˜</span></span><br><span class="line">rake install</span><br></pre></td></tr></table></figure><p>ç„¶åæ˜¯è¿›è¡Œéƒ¨ç½²é…ç½®ï¼Œæ‰§è¡Œå‘½ä»¤ï¼ˆå‚è€ƒç½‘å€<a href="http://octopress.org/docs/deploying/github/">http://octopress.org/docs/deploying/github/</a>ï¼‰ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rake setup_github_pages</span><br></pre></td></tr></table></figure><p>å®ƒä¼šè¯¢é—®ä½ å¹¶è®©ä½ è¾“å…¥åˆšæ‰æ‰€åˆ›å»ºçš„ä»“åº“çš„åœ°å€ï¼š<code>git@github.com:&lt;username&gt;/&lt;username&gt;.github.com</code>ï¼Œæ¥ä¸‹æ¥æ˜¯è¦é…ç½®ä¸€ä¸‹ä½ çš„_config.ymlæ–‡ä»¶ï¼ˆå‚è€ƒç½‘å€ï¼š<a href="http://octopress.org/docs/configuring/">http://octopress.org/docs/configuring/</a>ï¼‰ï¼Œå…¶å®ä¹Ÿæ¯”è¾ƒç®€å•ï¼Œæ ¹æ®è‡ªå·±çš„å®é™…æƒ…å†µä¿®æ”¹ä¸€ä¸‹å°±è¡Œäº†ï¼Œè¿™é‡Œå°±ä¸åšè¿‡å¤šçš„è§£é‡Šäº†ã€‚</p><p>ç„¶åä½ å¯æ‰§è¡Œä¸€ä¸‹å‘½ä»¤æ¥é¢„è§ˆä½ çš„Blogï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">rake generate <span class="comment"># ç”Ÿæˆæ–‡ä»¶</span></span><br><span class="line">rake preview <span class="comment"># ç”Ÿæˆæœ¬åœ°é¢„è§ˆï¼Œåœ°å€æ˜¯ http://localhost:400</span></span><br></pre></td></tr></table></figure><p>å¦‚æœä½ è§‰å¾—æˆ‘æ²¡æœ‰é—®é¢˜å°±å¯ä»¥é€šè¿‡ä¸‹é¢çš„å‘½ä»¤å°†åšå®¢éƒ¨ç½²åˆ°GitHubä¸Šäº†</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rake deploy <span class="comment"># ä¼šå°†é€šè¿‡rake generateç”Ÿæˆçš„æ–‡ä»¶_deployä¸‹çš„å†…å®¹pushåˆ°GitHubçš„masteråˆ†æ”¯ä¸Š</span></span><br></pre></td></tr></table></figure><p>è®°å¾—è¾“å…¥å¦‚ä¸‹å‘½ä»¤å°†æ‰€æœ‰çš„æ”¹åŠ¨pushåˆ°GitHubä¸Š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git add .</span><br><span class="line">git commit -m <span class="string">&#x27;your message&#x27;</span></span><br><span class="line">git push origin <span class="built_in">source</span></span><br></pre></td></tr></table></figure><h3 id="æ’°å†™blog"><a class="markdownIt-Anchor" href="#æ’°å†™blog"></a> æ’°å†™Blog</h3><p>åœ¨ç»ˆç«¯ä¸­æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rake new_post[<span class="string">&#x27;Post Title&#x27;</span>]</span><br></pre></td></tr></table></figure><p>æ­¤å‘½ä»¤ä¼šåœ¨source/_post/ç›®å½•ä¸‹ç”Ÿæˆä¸€ä¸ªç±»ä¼¼äº2012-01-05-post-title.markdownçš„æ–‡ä»¶ï¼Œç”¨Markdownç¼–è¾‘å™¨ç¼–è¾‘è¿™ä¸ªæ–‡ä»¶ï¼Œæœ€ä¸Šé¢çš„<code>---</code>ä¸­é—´çš„éƒ¨åˆ†æ˜¯ymlæ ¼å¼çš„ä¸€äº›å…³äºæ–‡ç« çš„ä¿¡æ¯ï¼Œå…·ä½“å«ä¹‰è¯·å‚è€ƒï¼š<a href="https://github.com/mojombo/jekyll/wiki/yaml-front-matter">https://github.com/mojombo/jekyll/wiki/yaml-front-matter</a></p><p>ç¼–è¾‘å¥½æ–‡ç« ä¹‹åæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">rake generate <span class="comment"># ç”Ÿæˆæ–‡ä»¶</span></span><br><span class="line">rake preview <span class="comment"># å¦‚æœä½ æƒ³åœ¨æœ¬åœ°æŸ¥çœ‹ä¸€ä¸‹çš„è¯</span></span><br><span class="line">rake deploy <span class="comment"># éƒ¨ç½²åˆ°GitHubä¸Š</span></span><br></pre></td></tr></table></figure><p>ç„¶åä½ åº”è¯¥å°±å¯ä»¥åœ¨<code>http://&lt;username&gt;.github.com</code>ä¸Šçœ‹åˆ°ä½ å†™çš„æ–‡ç« äº†ï¼Œæ›´å¤šå‘½ä»¤è¯·å‚è€ƒ<a href="http://octopress.org/docs/blogging/">http://octopress.org/docs/blogging/</a></p><h3 id="ç»‘å®šè‡ªå·±çš„åŸŸå"><a class="markdownIt-Anchor" href="#ç»‘å®šè‡ªå·±çš„åŸŸå"></a> ç»‘å®šè‡ªå·±çš„åŸŸå</h3><p>å¦‚æœä½ æƒ³ç»‘å®šè‡ªå·±çš„åŸŸåä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œæ–¹æ³•ä¹Ÿå¾ˆç®€å•~ã€‚é¦–å…ˆè¦å‚è€ƒGitHubä¸Šçš„å¸®åŠ©æ–‡ç« <a href="https://help.github.com/articles/setting-up-a-custom-domain-with-pages">https://help.github.com/articles/setting-up-a-custom-domain-with-pages</a>æ¥è®¾ç½®è‡ªå·±åŸŸåçš„DNSã€‚ç„¶åæ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ï¼ˆ<a href="http://octopress.org/docs/deploying/github/#custom_domains">å‚è€ƒ</a>ï¼‰ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;yourdomain.com&#x27;</span> &gt; <span class="built_in">source</span>/CNAME</span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥å°±æ˜¯ç­‰å¾…åŸŸåè§£æç”Ÿæ•ˆäº†~</p><h3 id="ä¸€äº›å°æç¤º"><a class="markdownIt-Anchor" href="#ä¸€äº›å°æç¤º"></a> ä¸€äº›å°æç¤º</h3><p>è®°å¾—æ¯æ¬¡å†™å®Œæ–‡ç« ä¹‹åç”¨å¦‚ä¸‹å‘½ä»¤å°†å†™çš„æ–‡ç« åŒæ­¥åˆ°GitHubä¸Šï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git add -A</span><br><span class="line">git commit <span class="string">&#x27;your message&#x27;</span></span><br><span class="line">git push</span><br></pre></td></tr></table></figure><p>è¿™æ ·ä½ çš„æ–‡ç« å°±ä¸ä¼šä¸¢å¤±äº†<sub>ï¼Œå“ªæ€•æ˜¯é‡è£…ç”µè„‘</sub>ï¼Œä¸‹æ¬¡åªéœ€è¦æŠŠGitHubä»“åº“cloneä¸‹æ¥ç„¶åé‡åšä¸Šé¢çš„æŸäº›æ­¥éª¤å°±å¯ä»¥äº†!ä¸è¿‡ä½ ä¹Ÿå¯ä»¥å°†æ–‡ä»¶ä¿å­˜åˆ°<a href="http://db.tt/062Uch29">Dropbox</a>ä¸Šï¼Œä¹Ÿæ˜¯å¾ˆæ–¹ä¾¿çš„ã€‚</p><p>æ›´å¤šä¿¡æ¯å’Œæ›´é«˜çº§çš„å†…å®¹è¯·å‚è€ƒOctopressçš„<a href="http://octopress.org/docs/">å®˜æ–¹æ–‡æ¡£</a>å’ŒJekyllçš„<a href="https://github.com/mojombo/jekyll/wiki">Wiki</a></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;ç°åœ¨é€šè¿‡&lt;a href=&quot;https://github.com/&quot;&gt;GitHub&lt;/a&gt;+&lt;a href=&quot;http://octopress.org/&quot;&gt;Octopress&lt;/a&gt;æ¥æ­å»ºä¸ªäººåšå®¢çš„è¶Šæ¥è¶Šå¤šäº†ã€‚è¿™å‡ å¤©æˆ‘ä¹Ÿè¯•ç€é€šè¿‡è¿™ä¸ªè¯•ç€æ­å»ºä¸€ä¸‹ï¼Œå¼€å§‹è§‰å¾—å¾ˆæŠ˜è…¾ï¼Œåæ¥æŠ˜è…¾å‡ºæ¥ä¹‹åå‘ç°è¿˜æ˜¯ä¹°ç®€å•çš„ã€‚&lt;/p&gt;
&lt;p&gt;é€šè¿‡&lt;a href=&quot;https://github.com/&quot;&gt;GitHub&lt;/a&gt;+&lt;a href=&quot;http://octopress.org/&quot;&gt;Octopress&lt;/a&gt;æ­å»ºçš„åšå®¢æœ‰å‡ ä¸ªå¾ˆæ˜¾è€Œæ˜“è§çš„æœ‰ç‚¹ï¼š&lt;/p&gt;</summary>
    
    
    
    <category term="Other" scheme="http://firestudio.cn/categories/other/"/>
    
    
    <category term="GitHub" scheme="http://firestudio.cn/tags/github/"/>
    
    <category term="Octopress" scheme="http://firestudio.cn/tags/octopress/"/>
    
  </entry>
  
</feed>
